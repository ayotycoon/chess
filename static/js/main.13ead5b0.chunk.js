(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{27:function(i,e,n){},28:function(i,e,n){},38:function(i,e,n){},39:function(i,e,n){"use strict";n.r(e);var t=n(1),o=n.n(t),s=n(20),a=n.n(s),r=(n(27),n(15)),d=n(4),c=n(3),l=n(2),h=n(9),u=n(11),p=n(6),v=n(5),x=function(){function i(e,n,t,o,s){Object(l.a)(this,i),this.id=void 0,this.name=void 0,this.icon=void 0,this.isPieceWhite=void 0,this.prevPositionYIndex=void 0,this.prevPositionXIndex=void 0,this.prevPosition=void 0,this.positionYIndex=void 0,this.positionXIndex=void 0,this.position=void 0,this.id=e.id,this.name=e.name,this.icon=e.icon,this.isPieceWhite=e.isPieceWhite,this.prevPositionYIndex=n,this.prevPositionXIndex=t,this.positionYIndex=o,this.positionXIndex=s,this.prevPosition="".concat(b.availableXMovements[this.prevPositionXIndex]).concat(b.availableYMovements[this.prevPositionYIndex]),this.position="".concat(b.availableXMovements[this.positionXIndex]).concat(b.availableYMovements[this.positionYIndex])}return Object(h.a)(i,[{key:"toJSON",value:function(){return[this.id,this.name,this.icon,this.isPieceWhite,this.prevPositionYIndex,this.prevPositionXIndex,this.positionYIndex,this.positionXIndex,this.prevPosition,this.position]}},{key:"toCSV",value:function(){return[this.name,this.isPieceWhite?"white":"black",this.prevPosition,this.position]}},{key:"fromJSON",value:function(i){this.id=i[0],this.name=i[1],this.icon=i[2],this.isPieceWhite=i[3],this.prevPositionYIndex=i[4],this.prevPositionXIndex=i[5],this.positionYIndex=i[6],this.positionXIndex=i[7],this.prevPosition=i[8],this.position=i[9]}}]),i}(),b=function(){function i(e,n,t,o,s){var a=this;Object(l.a)(this,i),this.name="piece",this.icon="chess",this.positionXIndex=0,this.positionYIndex=0,this.isPieceWhite=!0,this.successfulMovements=0,this.chessBoard=new O(!0),this.id=0,this.king=null,this.oppKing=null,this.anticipateOppMoves=function(){for(var i={},e=0;e<a.chessBoard.board.length;e++)for(var n=0;n<a.chessBoard.board[e].length;n++){var t=a.chessBoard.board[e][n];t&&t.isPieceWhite!==a.isPieceWhite&&t.availableMoves().forEach((function(e){i[e.positionYIndex+","+e.positionXIndex]=!0}))}return i},this.anticipateMyMoves=function(){for(var i={},e=0;e<a.chessBoard.board.length;e++)for(var n=0;n<a.chessBoard.board[e].length;n++){var t=a.chessBoard.board[e][n];t&&t.isPieceWhite===a.isPieceWhite&&t.availableMoves().forEach((function(e){i[e.positionYIndex+","+e.positionXIndex]=!0}))}return i},this.availableMoves=function(){return[]},void 0==s?(i.globalId++,this.id=i.globalId):this.id=s,this.chessBoard=e,this.isPieceWhite=o,this.positionYIndex=n,this.positionXIndex=t}return Object(h.a)(i,[{key:"move",value:function(i,e,n){var t,o,s,a,r=new x(this.chessBoard.pieceHash[this.id],this.positionYIndex,this.positionXIndex,i,e),d=this.availableMoves(),c=!1;if(d.forEach((function(n){n.positionYIndex===i&&n.positionXIndex===e&&(c=!0)})),!c)return!1;var l=this.chessBoard.board[this.positionYIndex][this.positionXIndex];this.chessBoard.board[this.positionYIndex][this.positionXIndex]=null;var h=this.positionYIndex,u=this.positionXIndex;return this.positionYIndex=i,this.positionXIndex=e,this.chessBoard.board[this.positionYIndex][this.positionXIndex]=l,this.anticipateOppMoves()[(null===(t=this.king)||void 0===t?void 0:t.positionYIndex)+","+(null===(o=this.king)||void 0===o?void 0:o.positionXIndex)]?(alert("king at risk"),this.chessBoard.board[this.positionYIndex][this.positionXIndex]=null,this.positionYIndex=h,this.positionXIndex=u,this.chessBoard.board[h][u]=l,!1):(this.anticipateMyMoves()[(null===(s=this.oppKing)||void 0===s?void 0:s.positionYIndex)+","+(null===(a=this.oppKing)||void 0===a?void 0:a.positionXIndex)]&&alert("check"),n&&n(),this.successfulMovements++,this.chessBoard.addToMovement(r),!0)}},{key:"toString",value:function(){return{id:this.id,name:this.name,type:this.isPieceWhite?"White":"Black",position:"".concat(i.availableXMovements[this.positionXIndex]).concat(i.availableYMovements[this.positionYIndex])}}},{key:"currentPosition",value:function(){return"Y = ".concat(this.positionYIndex,", X = ").concat(this.positionXIndex)}}]),i}();b.availableXMovements=["A","B","C","D","E","F","G","H"],b.availableYMovements=["8","7","6","5","4","3","2","1"],b.globalId=0;var I=function(i){Object(p.a)(n,i);var e=Object(v.a)(n);function n(i,t,o,s,a){var r;return Object(l.a)(this,n),(r=e.call(this,i,t,o,s,a)).name="queen",r.icon="fas fa-chess-queen",r.availableMoves=function(){for(var i=[],e=function(e,n){if(e<0||e>7||n<0||n>7)return!0;var t=r.chessBoard.board[e][n];if(t)return t.isPieceWhite===r.isPieceWhite||i.push({positionYIndex:e,positionXIndex:n}),!0;i.push({positionYIndex:e,positionXIndex:n})},n=r.positionYIndex+1;n<8;n++){if(e(n,r.positionXIndex))break}for(var t=r.positionYIndex-1;t>=0;t--){if(e(t,r.positionXIndex))break}for(var o=r.positionXIndex+1;o<8;o++){var s=o;if(e(r.positionYIndex,s))break}for(var a=r.positionXIndex-1;a>=0;a--){var d=a;if(e(r.positionYIndex,d))break}for(var c=1;c<8-r.positionYIndex;c++){if(e(r.positionYIndex+c,r.positionXIndex+c))break}for(var l=1;l<Math.max(r.positionYIndex,r.positionXIndex);l++){if(e(r.positionYIndex-l,r.positionXIndex-l))break}for(var h=1;h<8-r.positionYIndex;h++){if(e(r.positionYIndex+h,r.positionXIndex-h))break}for(var u=1;u<=r.positionYIndex;u++){if(e(r.positionYIndex-u,r.positionXIndex+u))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return n}(b),f=function(i){Object(p.a)(n,i);var e=Object(v.a)(n);function n(i,t,o,s,a){var r;return Object(l.a)(this,n),(r=e.call(this,i,t,o,s,a)).name="pawn",r.icon="fas fa-chess-pawn",r._parent=b.prototype,r.move=function(i,e){return r._parent.move.apply(Object(u.a)(r),[i,e,function(){if(r.isPieceWhite&&0===i||!r.isPieceWhite&&7===i){var e=new I(r.chessBoard,i,r.positionXIndex,r.isPieceWhite,r.id);e.king=r.king,e.oppKing=r.oppKing,r.chessBoard.board[r.positionYIndex][r.positionXIndex]=e}}])},r.availableMoves=function(){var i,e,n=[],t=r.isPieceWhite?-1:1,o=r.isPieceWhite?-2:2;return r.positionYIndex+t<b.availableXMovements.length&&r.positionYIndex+t>=0&&!r.chessBoard.board[r.positionYIndex+t][r.positionXIndex]&&(n.push({positionYIndex:r.positionYIndex+t,positionXIndex:r.positionXIndex}),0===r.successfulMovements&&r.positionYIndex+o<b.availableYMovements.length&&r.positionYIndex+o>=0&&!r.chessBoard.board[r.positionYIndex+o][r.positionXIndex]&&n.push({positionYIndex:r.positionYIndex+o,positionXIndex:r.positionXIndex})),r.positionYIndex+t<b.availableYMovements.length&&r.positionYIndex+t>=0&&r.chessBoard.board[r.positionYIndex+t][r.positionXIndex+1]&&(null===(i=r.chessBoard.board[r.positionYIndex+t][r.positionXIndex+1])||void 0===i?void 0:i.isPieceWhite)===!r.isPieceWhite&&n.push({positionYIndex:r.positionYIndex+t,positionXIndex:r.positionXIndex+1}),r.positionYIndex+t<b.availableYMovements.length&&r.positionYIndex+t>=0&&r.chessBoard.board[r.positionYIndex+t][r.positionXIndex-1]&&(null===(e=r.chessBoard.board[r.positionYIndex+t][r.positionXIndex-1])||void 0===e?void 0:e.isPieceWhite)===!r.isPieceWhite&&n.push({positionYIndex:r.positionYIndex+t,positionXIndex:r.positionXIndex-1}),n.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return n}(b),m=function(i){Object(p.a)(n,i);var e=Object(v.a)(n);function n(i,t,o,s,a){var r;return Object(l.a)(this,n),(r=e.call(this,i,t,o,s,a)).name="bishop",r.icon="fas fa-chess-bishop",r.availableMoves=function(){for(var i=[],e=function(e,n){if(e<0||e>7||n<0||n>7)return!0;var t=r.chessBoard.board[e][n];if(t)return t.isPieceWhite===r.isPieceWhite||i.push({positionYIndex:e,positionXIndex:n}),!0;i.push({positionYIndex:e,positionXIndex:n})},n=1;n<8-r.positionYIndex;n++){if(e(r.positionYIndex+n,r.positionXIndex+n))break}for(var t=1;t<Math.max(r.positionYIndex,r.positionXIndex);t++){if(e(r.positionYIndex-t,r.positionXIndex-t))break}for(var o=1;o<8-r.positionYIndex;o++){if(e(r.positionYIndex+o,r.positionXIndex-o))break}for(var s=1;s<=Math.max(r.positionYIndex,r.positionXIndex);s++){if(e(r.positionYIndex-s,r.positionXIndex+s))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return n}(b),j=function(i){Object(p.a)(n,i);var e=Object(v.a)(n);function n(i,t,o,s,a){var r;return Object(l.a)(this,n),(r=e.call(this,i,t,o,s,a)).name="rook",r.icon="fas fa-chess-rook",r.availableMoves=function(){for(var i=[],e=function(e,n){if(e<0||e>7||n<0||n>7)return!0;var t=r.chessBoard.board[e][n];if(t)return t.isPieceWhite===r.isPieceWhite||i.push({positionYIndex:e,positionXIndex:n}),!0;i.push({positionYIndex:e,positionXIndex:n})},n=r.positionYIndex+1;n<8;n++){if(e(n,r.positionXIndex))break}for(var t=r.positionYIndex-1;t>=0;t--){if(e(t,r.positionXIndex))break}for(var o=r.positionXIndex+1;o<8;o++){var s=o;if(e(r.positionYIndex,s))break}for(var a=r.positionXIndex-1;a>=0;a--){var d=a;if(e(r.positionYIndex,d))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return n}(b),Y=function(i){Object(p.a)(n,i);var e=Object(v.a)(n);function n(i,t,o,s,a){var r;return Object(l.a)(this,n),(r=e.call(this,i,t,o,s,a)).name="king",r.icon="fas fa-chess-king",r.availableMoves=function(){for(var i=[],e=function(e,n){if(e<0||e>7||n<0||n>7)return!0;var t=r.chessBoard.board[e][n];if(t)return t.isPieceWhite===r.isPieceWhite||i.push({positionYIndex:e,positionXIndex:n}),!0;i.push({positionYIndex:e,positionXIndex:n})},n=[[1,0],[0,1],[-1,0],[0,-1],[1,1],[-1,-1],[-1,1],[1,-1]],t=0;t<n.length;t++){var o=n[t];e(r.positionYIndex+o[0],r.positionXIndex+o[1])}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return n}(b),X=function(i){Object(p.a)(n,i);var e=Object(v.a)(n);function n(i,t,o,s,a){var r;return Object(l.a)(this,n),(r=e.call(this,i,t,o,s,a)).name="knight",r.icon="fas fa-chess-knight",r.availableMoves=function(){for(var i=[],e=function(e,n){if(e<0||e>7||n<0||n>7)return!0;var t=r.chessBoard.board[e][n];if(t){if(t.isPieceWhite!==r.isPieceWhite)return i.push({positionYIndex:e,positionXIndex:n}),!0}else i.push({positionYIndex:e,positionXIndex:n})},n=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]],t=0;t<n.length;t++){var o=n[t];e(r.positionYIndex+o[0],r.positionXIndex+o[1])}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return n}(b),O=function(){function i(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(l.a)(this,i),this.board=[[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null]],this.isWhiteTurnToPlay=!1,this.pieceHash={},this.killedHash={},this.movements=[],this.movementIndex=0,this.initiated=!1,this.initiated||e||(this.init(),this.initiated=!0)}return Object(h.a)(i,[{key:"init",value:function(){var i=new Y(this,0,3,!1);this.board[0][3]=i,this.board[0][0]=new j(this,0,0,!1),this.board[0][7]=new j(this,0,7,!1),this.board[0][1]=new X(this,0,1,!1),this.board[0][6]=new X(this,0,6,!1),this.board[0][4]=new I(this,0,4,!1),this.board[0][2]=new m(this,0,2,!1),this.board[0][5]=new m(this,0,5,!1),this.board[1][0]=new f(this,1,0,!1),this.board[1][1]=new f(this,1,1,!1),this.board[1][2]=new f(this,1,2,!1),this.board[1][3]=new f(this,1,3,!1),this.board[1][4]=new f(this,1,4,!1),this.board[1][5]=new f(this,1,5,!1),this.board[1][6]=new f(this,1,6,!1),this.board[1][7]=new f(this,1,7,!1);var e=new Y(this,7,3,!0);this.board[7][3]=e,this.board[7][0]=new j(this,7,0,!0),this.board[7][7]=new j(this,7,7,!0),this.board[7][1]=new X(this,7,1,!0),this.board[7][6]=new X(this,7,6,!0),this.board[7][4]=new I(this,7,4,!0),this.board[7][2]=new m(this,7,2,!0),this.board[7][5]=new m(this,7,5,!0),this.board[6][0]=new f(this,6,0,!0),this.board[6][1]=new f(this,6,1,!0),this.board[6][2]=new f(this,6,2,!0),this.board[6][3]=new f(this,6,3,!0),this.board[6][4]=new f(this,6,4,!0),this.board[6][5]=new f(this,6,5,!0),this.board[6][6]=new f(this,6,6,!0),this.board[6][7]=new f(this,6,7,!0);for(var n=0;n<this.board.length;n++)for(var t=0;t<this.board[n].length;t++){var o=this.board[n][t];o&&(this.pieceHash[o.id]=o,o.isPieceWhite?(o.king=e,o.oppKing=i):(o.oppKing=e,o.king=i))}}},{key:"toString",value:function(){return JSON.stringify(this.board.map((function(i){return i.map((function(i){return i?"".concat(i.id,"-").concat(i.name):"null"}))})))}},{key:"canUndo",value:function(){return this.movementIndex<this.movements.length}},{key:"canRedo",value:function(){return this.movementIndex-1>=0}},{key:"performUndo",value:function(){var i=this.movements[this.movementIndex],e=this.board[i.positionYIndex][i.positionXIndex];e&&(e.positionYIndex=i.prevPositionYIndex,e.positionXIndex=i.prevPositionXIndex,this.board[i.prevPositionYIndex][i.prevPositionXIndex]=e,this.board[i.positionYIndex][i.positionXIndex]=this.killedHash[i.positionYIndex+","+i.positionXIndex],this.movementIndex++)}},{key:"performRedo",value:function(){this.movementIndex--;var i=this.movements[this.movementIndex],e=this.board[i.prevPositionYIndex][i.prevPositionXIndex];e&&(e.positionYIndex=i.positionYIndex,e.positionXIndex=i.positionXIndex,this.board[i.positionYIndex][i.positionXIndex]=e,this.board[i.prevPositionYIndex][i.prevPositionXIndex]=null)}},{key:"addToMovement",value:function(i){var e=this.getMovements();e.unshift(i),this.movements=e,this.movementIndex=0}},{key:"getMovements",value:function(){return this.movements.slice(this.movementIndex)}}]),i}(),P=(n(28),n(0));var g=function(i){var e=i.pieceWidth,n=i.horizontal,t=n?b.availableXMovements:b.availableYMovements;return Object(P.jsx)("div",{className:n?"Bar-X":"",children:t.map((function(i,t){return Object(P.jsx)("div",{className:n?"Bar-X":"Board-X",style:{width:e+"px",height:e+"px"},children:i},t)}))})},W=!Object({NODE_ENV:"production",PUBLIC_URL:"/games",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).production,w=function(i){var e="data:text/csv;charset=utf-8,";i.forEach((function(i){var n=i.toCSV().join(",");e+=n+"\r\n"}));var n=encodeURI(e),t=document.createElement("a");t.setAttribute("href",n),t.setAttribute("download","my_data.csv"),document.body.appendChild(t),t.click()};function k(){return Math.min(window.innerHeight,window.innerWidth)-150}var y=function(){var i=Object(t.useState)({boardWidth:k(),pieceWidth:k()/8}),e=Object(c.a)(i,2),n=e[0],o=e[1],s=Object(t.useState)([]),a=Object(c.a)(s,2),r=a[0],d=a[1],l=Object(t.useState)([]),h=Object(c.a)(l,2),u=h[0],p=h[1],v=Object(t.useState)({}),x=Object(c.a)(v,2),b=x[0],I=x[1],f=Object(t.useState)(null),m=Object(c.a)(f,2),j=m[0],Y=m[1],X=Object(t.useRef)(null),y=Object(t.useState)(!0),M=Object(c.a)(y,2),B=M[0],N=M[1],S=Object(t.useState)({canUndo:!1,canRedo:!1}),T=Object(c.a)(S,2),C=T[0],E=C.canUndo,R=C.canRedo,H=T[1];function z(){X.current.isWhiteTurnToPlay=!X.current.isWhiteTurnToPlay,d(X.current.board),p(X.current.getMovements()),I({}),Y(null),N(X.current.isWhiteTurnToPlay),H({canRedo:X.current.canRedo(),canUndo:X.current.canUndo()})}function U(i,e,n){if(b[e+","+n]){if(!(null===j||void 0===j?void 0:j.move(e,n)))return;z()}else if(i){if(s=i.toString(),W&&console.warn(s),B!==i.isPieceWhite)return I({}),void Y(null);var t=i.availableMoves(),o={};t.forEach((function(i){o[i.positionYIndex+","+i.positionXIndex]=!0})),I(o),Y(i)}else I({}),Y(null);var s}return Object(t.useEffect)((function(){X.current=new O,z();var i=function(){var i=k();o({boardWidth:i,pieceWidth:i/8})};return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[]),Object(P.jsx)("div",{className:"Whole-Body",children:Object(P.jsxs)("div",{className:"Chess-Field",children:[Object(P.jsxs)("div",{className:"Chess-Pre-Playable",children:[Object(P.jsx)(g,{pieceWidth:n.pieceWidth,horizontal:!0}),Object(P.jsxs)("div",{className:"Chess-Playable",children:[Object(P.jsx)(g,{pieceWidth:n.pieceWidth,horizontal:!1}),Object(P.jsx)("div",{className:"Board",style:{width:n.boardWidth+"px",height:n.boardWidth+"px"},children:r.map((function(i,e){return Object(P.jsx)("div",{className:"Board-Y",style:{display:"flex"},children:i.map((function(i,t){var o=b[e+","+t];return Object(P.jsx)("div",{onClick:function(){return U(i,e,t)},className:"Board-X",style:{width:n.pieceWidth+"px",height:n.pieceWidth+"px",backgroundColor:t%2===0===(e%2===0)?"rgba(245, 222, 179, 0.596)":""},children:Object(P.jsx)("div",{className:i?B!==i.isPieceWhite?"Piece-inner-invalid":"Piece-inner-valid":"",style:{width:"70%",height:"70%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:o||i&&i===j?"rgba(255, 255, 0, 0.5)":""},children:i?Object(P.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}}):""})},t)}))},e)}))}),Object(P.jsx)(g,{pieceWidth:n.pieceWidth,horizontal:!1})]}),Object(P.jsx)(g,{pieceWidth:n.pieceWidth,horizontal:!0}),Object(P.jsxs)("div",{className:"text-center",children:[E&&Object(P.jsxs)("button",{onClick:function(){X.current.performUndo(),z()},className:"m-2",children:["  ",Object(P.jsx)("i",{className:"fa fa-undo"})]}),R&&Object(P.jsxs)("button",{onClick:function(){X.current.performRedo(),z()},className:"m-2",children:["  ",Object(P.jsx)("i",{className:"fa fa-redo"})]})]})]}),Object(P.jsxs)("div",{className:"Side",style:{padding:"10px"},children:[Object(P.jsxs)("div",{className:"",style:{padding:"0 30px"},children:["Piece To Play",Object(P.jsx)("br",{}),Object(P.jsx)("i",{className:"fa fa-chess ",style:{color:B?"white":"black"}}),Object(P.jsx)("hr",{}),Object(P.jsxs)("div",{style:{textAlign:"center"},children:[0!=u.length&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("button",{onClick:function(){w(u)},children:Object(P.jsx)("i",{className:"fa fa-file-download"})}),Object(P.jsx)("br",{})]}),u.map((function(i,e){return Object(P.jsxs)("div",{style:{fontSize:"13px",marginBottom:"5px",display:"flex",justifyContent:"center"},children:[Object(P.jsx)("div",{style:{marginRight:"5px"},children:Object(P.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}})}),Object(P.jsxs)("div",{children:[i.prevPosition," ",Object(P.jsx)("i",{className:"fa fa-arrow-right"})," ",i.position]})]},e)}))]})]})," "]})]})})},M=[{to:"/chess",name:"Chess",img:"/assets/chess-banner.png"},{to:"/checkers",name:"Checkers",img:"/assets/checkers-banner.png"}];var B=function(){var i=Object(t.useState)(0),e=Object(c.a)(i,2),n=e[0],o=e[1];return Object(t.useEffect)((function(){var i=document.querySelector("#bound"),e=null===i||void 0===i?void 0:i.getBoundingClientRect();o((null===e||void 0===e?void 0:e.width)||0)}),[]),Object(P.jsx)("div",{className:"container",children:Object(P.jsx)("div",{className:"row",children:M.map((function(i,e){return Object(P.jsx)("div",{id:"bound",className:"col-6 col-md-4 col-lg-3 mb-2",children:Object(P.jsxs)(r.b,{className:"d-block border rounded  text-center bound-inner",to:i.to,style:{height:n-24+"px",verticalAlign:"bottom",background:"url('".concat(i.img,"')"),backgroundSize:"cover"},children:[Object(P.jsx)("div",{style:{visibility:"hidden"},children:i.name}),Object(P.jsx)("div",{className:"bound-content p-1 bg-primary rounded text-white",children:i.name})]},e)})}))})})},N=n(10),S=function(){function i(e,n,t,o,s,a,r,d){var c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];Object(l.a)(this,i),this.id=void 0,this.name=void 0,this.icon=void 0,this.isPieceWhite=void 0,this.prevPositionYIndex=void 0,this.prevPositionXIndex=void 0,this.prevPosition=void 0,this.positionYIndex=void 0,this.positionXIndex=void 0,this.position=void 0,this.jumpPosition=void 0,this.id=e,this.name=n,this.icon=t,this.isPieceWhite=o,this.prevPositionYIndex=s,this.prevPositionXIndex=a,this.positionYIndex=r,this.positionXIndex=d,this.prevPosition="".concat(T.availableXMovements[this.prevPositionXIndex]).concat(T.availableYMovements[this.prevPositionYIndex]),this.position="".concat(T.availableXMovements[this.positionXIndex]).concat(T.availableYMovements[this.positionYIndex]),this.jumpPosition=c}return Object(h.a)(i,[{key:"toJSON",value:function(){return[this.id,this.name,this.icon,this.isPieceWhite,this.prevPositionYIndex,this.prevPositionXIndex,this.positionYIndex,this.positionXIndex,this.prevPosition,this.position,this.jumpPosition]}},{key:"toCSV",value:function(){return[this.name,this.isPieceWhite?"white":"black",this.prevPosition,this.position]}},{key:"fromJSON",value:function(i){this.id=i[0],this.name=i[1],this.icon=i[2],this.isPieceWhite=i[3],this.prevPositionYIndex=i[4],this.prevPositionXIndex=i[5],this.positionYIndex=i[6],this.positionXIndex=i[7],this.prevPosition=i[8],this.position=i[9],this.jumpPosition=i[10]}},{key:"serialize",value:function(){return[this.id,this.name,this.icon,this.isPieceWhite,this.prevPositionYIndex,this.prevPositionXIndex,this.positionYIndex,this.positionXIndex,this.jumpPosition]}}]),i}(),T=function(){function i(e,n,t,o,s){var a=this;Object(l.a)(this,i),this.name="piece",this.icon="chess",this.positionXIndex=0,this.positionYIndex=0,this.isPieceWhite=!0,this.successfulMovements=0,this.chessBoard=new H(!0),this.id=0,this.anticipateOppMoves=function(){for(var i={},e=0;e<a.chessBoard.board.length;e++)for(var n=0;n<a.chessBoard.board[e].length;n++){var t=a.chessBoard.board[e][n];t&&t.isPieceWhite!==a.isPieceWhite&&t.availableMoves().forEach((function(e){i[e.positionYIndex+","+e.positionXIndex]=!0}))}return i},this.anticipateMyMoves=function(){for(var i={},e=0;e<a.chessBoard.board.length;e++)for(var n=0;n<a.chessBoard.board[e].length;n++){var t=a.chessBoard.board[e][n];t&&t.isPieceWhite===a.isPieceWhite&&t.availableMoves().forEach((function(e){i[e.positionYIndex+","+e.positionXIndex]=!0}))}return i},this.availableMoves=function(){return[]},this.clone=function(){return null},this.serialize=function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[a.id,a.name,a.icon,a.positionYIndex,a.positionXIndex,a.isPieceWhite,a.successfulMovements];return i?JSON.stringify(e):e},void 0==s?(i.globalId++,this.id=i.globalId):this.id=s,this.chessBoard=e,this.isPieceWhite=o,this.positionYIndex=n,this.positionXIndex=t}return Object(h.a)(i,[{key:"move",value:function(i,e,n){var t=this.availableMoves(),o=!1,s=void 0;t.forEach((function(n){n.positionYIndex===i&&n.positionXIndex===e&&(o=!0,s=n.jumpPosition)}));var a=this.chessBoard.pieceHash[this.id],r=new S(a.id,a.name,a.icon,a.isPieceWhite,this.positionYIndex,this.positionXIndex,i,e,s);if(!o)return!1;var d=this.chessBoard.board[this.positionYIndex][this.positionXIndex];this.chessBoard.board[this.positionYIndex][this.positionXIndex]=null;this.positionYIndex,this.positionXIndex;return this.positionYIndex=i,this.positionXIndex=e,this.chessBoard.board[this.positionYIndex][this.positionXIndex]=d,n&&n(),this.successfulMovements++,this.chessBoard.addToMovement(r),!0}},{key:"toString",value:function(){return{id:this.id,name:this.name,type:this.isPieceWhite?"White":"Black",position:"".concat(i.availableXMovements[this.positionXIndex]).concat(i.availableYMovements[this.positionYIndex])}}},{key:"currentPosition",value:function(){return"Y = ".concat(this.positionYIndex,", X = ").concat(this.positionXIndex)}}]),i}();T.availableXMovements=["A","B","C","D","E","F","G","H"],T.availableYMovements=["8","7","6","5","4","3","2","1"],T.globalId=0;var C=function(i){Object(p.a)(n,i);var e=Object(v.a)(n);function n(i,t,o,s,a){var r;return Object(l.a)(this,n),(r=e.call(this,i,t,o,s,a)).name="queen",r.icon="fas fa-chess-queen",r.availableMoves=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.positionYIndex,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.positionXIndex,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];1==e&&console.log({positionYIndex:n,positionXIndex:t});for(var s=function(i){return i>=0&&i<=7},a=function(n,t){n.id=e;var o=n.positionYIndex+","+n.positionXIndex,s=i[o];s&&e!==s.id||o==r.positionYIndex+","+r.positionXIndex||(s?(!s.jumpPosition||(n.jumpPosition||[]).length>s.jumpPosition.length)&&(i[o]=n):i[o]=n,t||r.availableMoves(i,e+1,n.positionYIndex,n.positionXIndex,n.jumpPosition||[]))},d=function(i,n,t,o){var d,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!s(i)||!s(n))return!0;var l=r.chessBoard.board[i][n];if(l){if(l.isPieceWhite===r.isPieceWhite)return!0;if(l.isPieceWhite!==r.isPieceWhite&&s(i+t)&&s(n+o)&&null!=r.chessBoard.board[i+t][n+o]&&(null===(d=r.chessBoard.board[i+t][n+o])||void 0===d?void 0:d.isPieceWhite)!=r.isPieceWhite)return!0;l.isPieceWhite!==r.isPieceWhite&&s(i+t)&&s(n+o)&&null==r.chessBoard.board[i+t][n+o]&&(c.push([i,n]),a({positionYIndex:i+t,positionXIndex:n+o,jumpPosition:Object(N.a)(c)}))}else{if(0!=e)return!0;a({positionYIndex:i,positionXIndex:n},!0)}return!1},c=Object(N.a)(o),l=1;l<8-n;l++){var h=n+l,u=t+l;if(d(h,u,1,1,c))break}for(var p=Object(N.a)(o),v=1;v<Math.max(n,t);v++){var x=n-v,b=t-v;if(d(x,b,-1,-1,p))break}for(var I=Object(N.a)(o),f=1;f<8-n;f++){var m=n+f,j=t-f;if(d(m,j,1,-1,I))break}for(var Y=Object(N.a)(o),X=1;X<=n;X++){var O=n-X,P=t+X;if(d(O,P,-1,1,Y))break}return Object.values(i).map((function(i){return{positionYIndex:i.positionYIndex,positionY:T.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:T.availableXMovements[i.positionYIndex],jumpPosition:i.jumpPosition}}))},r.clone=function(){return new n(r.chessBoard,r.positionYIndex,r.positionXIndex,r.isPieceWhite,r.id)},r}return n}(T),E=function(i){Object(p.a)(n,i);var e=Object(v.a)(n);function n(i,t,o,s,a){var r;return Object(l.a)(this,n),(r=e.call(this,i,t,o,s,a)).name="pawn",r.icon="fas fa-circle",r._parent=T.prototype,r.move=function(i,e){return r._parent.move.apply(Object(u.a)(r),[i,e,function(){if(r.isPieceWhite&&0===i||!r.isPieceWhite&&7===i){var e=new C(r.chessBoard,i,r.positionXIndex,r.isPieceWhite,r.id);r.chessBoard.board[r.positionYIndex][r.positionXIndex]=e}}])},r.availableMoves=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.positionYIndex,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.positionXIndex,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=[[1,1],[-1,-1],[1,-1],[-1,1]],a=function(i){return i>=0&&i<=7},d=function(n,t){n.id=e;var o=n.positionYIndex+","+n.positionXIndex,s=i[o];s&&e!==s.id||o==r.positionYIndex+","+r.positionXIndex||(s?(!s.jumpPosition||(n.jumpPosition||[]).length>s.jumpPosition.length)&&(i[o]=n):i[o]=n,t||r.availableMoves(i,e+1,n.positionYIndex,n.positionXIndex,n.jumpPosition||[]))},c=function(i,n,t,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!a(i)||!a(n))return!0;var c=r.chessBoard.board[i][n];if(c)c.isPieceWhite===r.isPieceWhite||c.isPieceWhite!==r.isPieceWhite&&a(i+t)&&a(n+o)&&null==r.chessBoard.board[i+t][n+o]&&(s.push([i,n]),d({positionYIndex:i+t,positionXIndex:n+o,jumpPosition:s}));else{if(0!=e)return!0;d({positionYIndex:i,positionXIndex:n},!0)}return!1},l=Object(N.a)(o);return s.forEach((function(i){var e=n+i[0],o=t+i[1];c(e,o,i[0],i[1],l)})),Object.values(i).map((function(i){return{positionYIndex:i.positionYIndex,positionY:T.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:T.availableXMovements[i.positionYIndex],jumpPosition:i.jumpPosition}}))},r.clone=function(){return new n(r.chessBoard,r.positionYIndex,r.positionXIndex,r.isPieceWhite,r.id)},r}return n}(T),R=function(i,e){var n=Object(c.a)(i,7),t=n[0],o=n[1],s=n[2],a=n[3],r=n[4],d=n[5],l=n[6],h=null;switch(o){case"queen":h=new C(e,a,r,d,t);break;case"pawn":h=new E(e,a,r,d,t);break;default:return null}return h.successfulMovements=l,h.icon=s,h},H=function(){function i(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(l.a)(this,i),this.board=i.newBoard(),this.isWhiteTurnToPlay=!1,this.pieceHash={},this.killedHash={},this.movements=[],this.movementIndex=0,this.initiated=!1,this.clone=function(){var n=new i(!0);n.isWhiteTurnToPlay=e.isWhiteTurnToPlay,n.pieceHash=e.pieceHash,n.movements=e.movements;for(var t=0;t<e.board.length;t++)for(var o=0;o<e.board[t].length;o++){var s=e.board[t][o];s&&(n.board[t][o]=s.clone())}return n},this.serialize=function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.board.map((function(i){return i.map((function(i){return null==i?null:i.serialize()}))})),t=e.movements.map((function(i){return i.serialize()})),o=e.movementIndex,s=e.isWhiteTurnToPlay,a=Object.values(e.killedHash).map((function(i){return i?i.serialize():null})),r=[n,t,o,s,a];return i?JSON.stringify(r):r},this.initiated||n||(this.init(),this.initiated=!0)}return Object(h.a)(i,[{key:"init",value:function(){this.board[0][0]=new E(this,0,0,!1),this.board[0][2]=new E(this,0,2,!1),this.board[0][4]=new E(this,0,4,!1),this.board[0][6]=new E(this,0,6,!1),this.board[1][1]=new E(this,1,1,!1),this.board[1][3]=new E(this,1,3,!1),this.board[1][5]=new E(this,1,5,!1),this.board[1][7]=new E(this,1,7,!1),this.board[2][0]=new E(this,2,0,!1),this.board[2][2]=new E(this,2,2,!1),this.board[2][4]=new E(this,2,4,!1),this.board[2][6]=new C(this,2,6,!1),this.board[5][1]=new E(this,5,1,!0),this.board[5][3]=new E(this,5,3,!0),this.board[5][5]=new E(this,5,5,!0),this.board[5][7]=new E(this,5,7,!0),this.board[6][0]=new E(this,6,0,!0),this.board[6][2]=new E(this,6,2,!0),this.board[6][4]=new E(this,6,4,!0),this.board[6][6]=new E(this,6,6,!0),this.board[7][1]=new E(this,7,1,!0),this.board[7][3]=new E(this,7,3,!0),this.board[7][5]=new E(this,7,5,!0),this.board[7][7]=new E(this,7,7,!0);for(var i=0;i<this.board.length;i++)for(var e=0;e<this.board[i].length;e++){var n=this.board[i][e];n&&(this.pieceHash[n.id]=n)}}},{key:"toString",value:function(){return JSON.stringify(this.board.map((function(i){return i.map((function(i){return i?"".concat(i.id,"-").concat(i.name):"null"}))})))}},{key:"canUndo",value:function(){return this.movementIndex<this.movements.length}},{key:"canRedo",value:function(){return this.movementIndex-1>=0}},{key:"performUndo",value:function(){var i=this,e=this.movements[this.movementIndex],n=this.board[e.positionYIndex][e.positionXIndex];n&&(n.positionYIndex=e.prevPositionYIndex,n.positionXIndex=e.prevPositionXIndex,this.board[e.positionYIndex][e.positionXIndex]=null,this.board[e.prevPositionYIndex][e.prevPositionXIndex]=n,e.jumpPosition.forEach((function(e){i.board[e[0]][e[1]]=i.killedHash[e[0]+","+e[1]]})),this.movementIndex++)}},{key:"performRedo",value:function(){var i=this;this.movementIndex--;var e=this.movements[this.movementIndex],n=this.board[e.prevPositionYIndex][e.prevPositionXIndex];n&&(this.board[e.prevPositionYIndex][e.prevPositionXIndex]=null,n.positionYIndex=e.positionYIndex,n.positionXIndex=e.positionXIndex,this.board[e.positionYIndex][e.positionXIndex]=n,e.jumpPosition.forEach((function(e){i.board[e[0]][e[1]]=null})))}},{key:"addToMovement",value:function(i){var e=this.getMovements();e.unshift(i),this.movements=e,this.movementIndex=0}},{key:"getMovements",value:function(){return this.movements.slice(this.movementIndex)}}],[{key:"newBoard",value:function(){return[[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null]]}}]),i}();H.deSerialize=function(i){var e=new H(!0),n=JSON.parse(i),t=Object(c.a)(n,5),o=t[0],s=t[1],a=t[2],r=t[3],d=t[4],l=o.map((function(i){return i.map((function(i){return null==i?null:R(i,e)}))})),h=s.map((function(i){return new S(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])})),u=a,p=r,v={};return d.forEach((function(i){if(null!=i){var n=R(i,e);if(null==n)return;v[(null===n||void 0===n?void 0:n.positionYIndex)+","+(null===n||void 0===n?void 0:n.positionXIndex)]=n}})),e.board=l,e.movements=h,e.movementIndex=u,e.isWhiteTurnToPlay=p,e.killedHash=v,e};n(38);function z(){return Math.min(window.innerHeight,window.innerWidth)-150}var U=function(){var i=Object(t.useState)({boardWidth:z(),pieceWidth:z()/8}),e=Object(c.a)(i,2),n=e[0],o=e[1],s=Object(t.useState)([]),a=Object(c.a)(s,2),r=a[0],d=a[1],l=Object(t.useState)([]),h=Object(c.a)(l,2),u=h[0],p=h[1],v=Object(t.useState)({}),x=Object(c.a)(v,2),b=x[0],I=x[1],f=Object(t.useState)(null),m=Object(c.a)(f,2),j=m[0],Y=m[1],X=Object(t.useRef)(null),O=Object(t.useState)(!0),g=Object(c.a)(O,2),W=g[0],k=g[1],y=Object(t.useState)({canUndo:!1,canRedo:!1}),M=Object(c.a)(y,2),B=M[0],N=B.canUndo,S=B.canRedo,T=M[1];function C(){X.current.isWhiteTurnToPlay=!X.current.isWhiteTurnToPlay,d(X.current.board),p(X.current.getMovements()),I({}),Y(null),k(X.current.isWhiteTurnToPlay),T({canRedo:X.current.canRedo(),canUndo:X.current.canUndo()})}return Object(t.useEffect)((function(){X.current=new H,C();var i=function(){var i=z();o({boardWidth:i,pieceWidth:i/8})};return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[]),Object(P.jsx)("div",{className:"Whole-Body",children:Object(P.jsxs)("div",{className:"Chess-Field",children:[Object(P.jsxs)("div",{className:"Chess-Pre-Playable",children:[Object(P.jsx)("div",{className:"Chess-Playable",children:Object(P.jsx)("div",{className:"Board",style:{width:n.boardWidth+"px",height:n.boardWidth+"px"},children:r.map((function(i,e){return Object(P.jsx)("div",{className:"Board-Y",style:{display:"flex"},children:i.map((function(i,t){var o=b[e+","+t];return Object(P.jsx)("div",{onClick:function(){return function(i,e,n){if(b[e+","+n]){if(!(null===j||void 0===j?void 0:j.move(e,n)))return;b[e+","+n].forEach((function(i){var e=Object(c.a)(i,2),n=e[0],t=e[1];X.current.killedHash[n+","+t]=X.current.board[n][t],X.current.board[n][t]=null})),C()}else if(i){if(W!==i.isPieceWhite)return I({}),void Y(null);var t=i.availableMoves(),o={};t.forEach((function(i){var e=void 0==i.jumpPosition?[]:i.jumpPosition;o[i.positionYIndex+","+i.positionXIndex]=e})),I(o),Y(i)}else I({}),Y(null)}(i,e,t)},className:"Board-X",style:{width:n.pieceWidth+"px",height:n.pieceWidth+"px",backgroundColor:t%2===0===(e%2===0)?"rgba(245, 222, 179, 0.596)":""},children:Object(P.jsx)("div",{className:i?W!==i.isPieceWhite?"Piece-inner-invalid":"Piece-inner-valid":"",style:{width:"70%",height:"70%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:o||i&&i===j?"rgba(255, 255, 0, 0.5)":""},children:i?Object(P.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}}):""})},t)}))},e)}))})}),Object(P.jsxs)("div",{className:"text-center",children:[N&&Object(P.jsxs)("button",{onClick:function(){X.current.performUndo(),C()},className:"m-2",children:["  ",Object(P.jsx)("i",{className:"fa fa-undo"})]}),S&&Object(P.jsxs)("button",{onClick:function(){X.current.performRedo(),C()},className:"m-2",children:["  ",Object(P.jsx)("i",{className:"fa fa-redo"})]})]})]}),Object(P.jsxs)("div",{className:"Side",style:{padding:"10px"},children:[Object(P.jsxs)("div",{className:"",style:{padding:"0 30px"},children:["Piece To Play",Object(P.jsx)("br",{}),Object(P.jsx)("i",{className:"fa fa-circle ",style:{color:W?"white":"black"}}),Object(P.jsx)("hr",{}),Object(P.jsxs)("div",{style:{textAlign:"center"},children:[Object(P.jsx)("button",{onClick:function(){var i=X.current.serialize(!0);localStorage.setItem("checkers",i)},children:Object(P.jsx)("i",{className:"fa fa-save"})}),Object(P.jsx)("button",{onClick:function(){var i=localStorage.getItem("checkers");if(i){var e=H.deSerialize(i);e.isWhiteTurnToPlay=!e.isWhiteTurnToPlay,X.current=e,C()}},children:Object(P.jsx)("i",{className:"fa fa-upload"})}),0!=u.length&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("button",{onClick:function(){w(u)},children:Object(P.jsx)("i",{className:"fa fa-file-download"})}),Object(P.jsx)("br",{})]}),u.map((function(i,e){return Object(P.jsxs)("div",{style:{fontSize:"13px",marginBottom:"5px",display:"flex",justifyContent:"center"},children:[Object(P.jsx)("div",{style:{marginRight:"5px"},children:Object(P.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}})}),Object(P.jsxs)("div",{children:[i.prevPosition," ",Object(P.jsx)("i",{className:"fa fa-arrow-right"})," ",i.position]})]},e)}))]})]})," "]})]})})};var _=function(){return Object(P.jsx)(r.a,{basename:"/games",children:Object(P.jsxs)(d.c,{children:[Object(P.jsx)(d.a,{path:"/chess",component:y}),Object(P.jsx)(d.a,{path:"/checkers",component:U}),Object(P.jsx)(d.a,{path:"/",component:B})]})})},F=function(i){i&&i instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(e){var n=e.getCLS,t=e.getFID,o=e.getFCP,s=e.getLCP,a=e.getTTFB;n(i),t(i),o(i),s(i),a(i)}))};a.a.render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(_,{})}),document.getElementById("root")),F()}},[[39,1,2]]]);
//# sourceMappingURL=main.13ead5b0.chunk.js.map