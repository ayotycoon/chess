(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{24:function(i,n,o){},25:function(i,n,o){},35:function(i,n,o){"use strict";o.r(n);var e=o(0),t=o.n(e),s=o(16),a=o.n(s),r=(o(24),o(19)),d=o(1),l=o(9),p=o(3),h=o(10),c=o(11),u=o(7),b=o(6),x=function(){function i(n,o,e,t){var s=this;Object(p.a)(this,i),this.name="piece",this.icon="chess",this.availableXMovements=["A","B","C","D","E","F","G","H"],this.availableYMovements=["1","2","3","4","5","6","7","8"],this.positionXIndex=0,this.positionYIndex=0,this.isPieceWhite=!0,this.successfulMovements=0,this.board=[[]],this.id=1e8*(1+Math.random()),this.king=null,this.oppKing=null,this.anticipateOppMoves=function(){for(var i={},n=0;n<s.board.length;n++)for(var o=0;o<s.board[n].length;o++){var e=s.board[n][o];e&&e.isPieceWhite!==s.isPieceWhite&&e.availableMoves().forEach((function(n){i[n.positionYIndex+","+n.positionXIndex]=!0}))}return i},this.anticipateMyMoves=function(){for(var i={},n=0;n<s.board.length;n++)for(var o=0;o<s.board[n].length;o++){var e=s.board[n][o];e&&e.isPieceWhite===s.isPieceWhite&&e.availableMoves().forEach((function(n){i[n.positionYIndex+","+n.positionXIndex]=!0}))}return i},this.availableMoves=function(){return[]},this.board=n,this.isPieceWhite=void 0===t?o>2:t,this.positionYIndex=o,this.positionXIndex=e}return Object(h.a)(i,[{key:"move",value:function(i,n,o){var e,t,s,a,r=this.availableMoves(),d=!1;if(r.forEach((function(o){o.positionYIndex===i&&o.positionXIndex===n&&(d=!0)})),!d)return!1;var l=this.board[this.positionYIndex][this.positionXIndex];this.board[this.positionYIndex][this.positionXIndex]=null;var p=this.positionYIndex,h=this.positionXIndex;return this.positionYIndex=i,this.positionXIndex=n,this.board[this.positionYIndex][this.positionXIndex]=l,this.anticipateOppMoves()[(null===(e=this.king)||void 0===e?void 0:e.positionYIndex)+","+(null===(t=this.king)||void 0===t?void 0:t.positionXIndex)]?(alert("king at risk"),this.board[this.positionYIndex][this.positionXIndex]=null,this.positionYIndex=p,this.positionXIndex=h,this.board[p][h]=l,!1):(this.anticipateMyMoves()[(null===(s=this.oppKing)||void 0===s?void 0:s.positionYIndex)+","+(null===(a=this.oppKing)||void 0===a?void 0:a.positionXIndex)]&&alert("check"),o&&o(),this.successfulMovements++,!0)}},{key:"toString",value:function(){return"name = ".concat(this.name," \ntype = ").concat(this.isPieceWhite?"White":"Black"," \nposition = ").concat(this.availableXMovements[this.positionXIndex]).concat(this.availableYMovements[this.positionYIndex])}},{key:"currentPosition",value:function(){return"Y = ".concat(this.positionYIndex,", X = ").concat(this.positionXIndex)}}]),i}(),I=function(i){Object(u.a)(o,i);var n=Object(b.a)(o);function o(i,e,t,s){var a;return Object(p.a)(this,o),(a=n.call(this,i,e,t,s)).name="queen",a.icon="fas fa-chess-queen",a.availableMoves=function(){for(var i=[],n=function(n,o){if(n<0||n>7||o<0||o>7)return!0;var e=a.board[n][o];if(e)return e.isPieceWhite===a.isPieceWhite||i.push({positionYIndex:n,positionXIndex:o}),!0;i.push({positionYIndex:n,positionXIndex:o})},o=a.positionYIndex+1;o<8;o++){if(n(o,a.positionXIndex))break}for(var e=a.positionYIndex-1;e>=0;e--){if(n(e,a.positionXIndex))break}for(var t=a.positionXIndex+1;t<8;t++){var s=t;if(n(a.positionYIndex,s))break}for(var r=a.positionXIndex-1;r>=0;r--){var d=r;if(n(a.positionYIndex,d))break}for(var l=1;l<8-a.positionYIndex;l++){if(n(a.positionYIndex+l,a.positionXIndex+l))break}for(var p=1;p<Math.max(a.positionYIndex,a.positionXIndex);p++){if(n(a.positionYIndex-p,a.positionXIndex-p))break}for(var h=1;h<8-a.positionYIndex;h++){if(n(a.positionYIndex+h,a.positionXIndex-h))break}for(var c=1;c<=a.positionYIndex;c++){if(n(a.positionYIndex-c,a.positionXIndex+c))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:a.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:a.availableXMovements[i.positionYIndex]}}))},a}return o}(x),v=function(i){Object(u.a)(o,i);var n=Object(b.a)(o);function o(i,e,t,s){var a;return Object(p.a)(this,o),(a=n.call(this,i,e,t,s)).name="pawn",a.icon="fas fa-chess-pawn",a._parent=x.prototype,a.move=function(i,n){return a._parent.move.apply(Object(c.a)(a),[i,n,function(){if(a.isPieceWhite&&0===i||!a.isPieceWhite&&7===i){var n=new I(a.board,i,a.positionXIndex,a.isPieceWhite);n.king=a.king,n.oppKing=a.oppKing,a.board[a.positionYIndex][a.positionXIndex]=n}}])},a.availableMoves=function(){var i,n,o=[],e=a.isPieceWhite?-1:1,t=a.isPieceWhite?-2:2;return a.positionYIndex+e<a.availableXMovements.length&&a.positionYIndex+e>=0&&!a.board[a.positionYIndex+e][a.positionXIndex]&&(o.push({positionYIndex:a.positionYIndex+e,positionXIndex:a.positionXIndex}),0===a.successfulMovements&&a.positionYIndex+t<a.availableYMovements.length&&a.positionYIndex+t>=0&&!a.board[a.positionYIndex+t][a.positionXIndex]&&o.push({positionYIndex:a.positionYIndex+t,positionXIndex:a.positionXIndex})),a.positionYIndex+e<a.availableYMovements.length&&a.positionYIndex+e>=0&&(null===(i=a.board[a.positionYIndex+e][a.positionXIndex+1])||void 0===i?void 0:i.isPieceWhite)===!a.isPieceWhite&&o.push({positionYIndex:a.positionYIndex+e,positionXIndex:a.positionXIndex+1}),a.positionYIndex+e<a.availableYMovements.length&&(null===(n=a.board[a.positionYIndex+e][a.positionXIndex-1])||void 0===n?void 0:n.isPieceWhite)===!a.isPieceWhite&&o.push({positionYIndex:a.positionYIndex+e,positionXIndex:a.positionXIndex-1}),o.map((function(i){return{positionYIndex:i.positionYIndex,positionY:a.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:a.availableXMovements[i.positionYIndex]}}))},a}return o}(x),f=function(i){Object(u.a)(o,i);var n=Object(b.a)(o);function o(i,e,t,s){var a;return Object(p.a)(this,o),(a=n.call(this,i,e,t,s)).name="bishop",a.icon="fas fa-chess-bishop",a.availableMoves=function(){for(var i=[],n=function(n,o){if(n<0||n>7||o<0||o>7)return!0;var e=a.board[n][o];if(e)return e.isPieceWhite===a.isPieceWhite||i.push({positionYIndex:n,positionXIndex:o}),!0;i.push({positionYIndex:n,positionXIndex:o})},o=1;o<8-a.positionYIndex;o++){if(n(a.positionYIndex+o,a.positionXIndex+o))break}for(var e=1;e<Math.max(a.positionYIndex,a.positionXIndex);e++){if(n(a.positionYIndex-e,a.positionXIndex-e))break}for(var t=1;t<8-a.positionYIndex;t++){if(n(a.positionYIndex+t,a.positionXIndex-t))break}for(var s=1;s<=Math.max(a.positionYIndex,a.positionXIndex);s++){if(n(a.positionYIndex-s,a.positionXIndex+s))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:a.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:a.availableXMovements[i.positionYIndex]}}))},a}return o}(x),Y=function(i){Object(u.a)(o,i);var n=Object(b.a)(o);function o(i,e,t,s){var a;return Object(p.a)(this,o),(a=n.call(this,i,e,t,s)).name="rook",a.icon="fas fa-chess-rook",a.availableMoves=function(){for(var i=[],n=function(n,o){if(n<0||n>7||o<0||o>7)return!0;var e=a.board[n][o];if(e)return e.isPieceWhite===a.isPieceWhite||i.push({positionYIndex:n,positionXIndex:o}),!0;i.push({positionYIndex:n,positionXIndex:o})},o=a.positionYIndex+1;o<8;o++){if(n(o,a.positionXIndex))break}for(var e=a.positionYIndex-1;e>=0;e--){if(n(e,a.positionXIndex))break}for(var t=a.positionXIndex+1;t<8;t++){var s=t;if(n(a.positionYIndex,s))break}for(var r=a.positionXIndex-1;r>=0;r--){var d=r;if(n(a.positionYIndex,d))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:a.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:a.availableXMovements[i.positionYIndex]}}))},a}return o}(x),X=function(i){Object(u.a)(o,i);var n=Object(b.a)(o);function o(i,e,t,s){var a;return Object(p.a)(this,o),(a=n.call(this,i,e,t,s)).name="king",a.icon="fas fa-chess-king",a.availableMoves=function(){for(var i=[],n=function(n,o){if(n<0||n>7||o<0||o>7)return!0;var e=a.board[n][o];if(e)return e.isPieceWhite===a.isPieceWhite||i.push({positionYIndex:n,positionXIndex:o}),!0;i.push({positionYIndex:n,positionXIndex:o})},o=[[1,0],[0,1],[-1,0],[0,-1],[1,1],[-1,-1],[-1,1],[1,-1]],e=0;e<o.length;e++){var t=o[e];n(a.positionYIndex+t[0],a.positionXIndex+t[1])}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:a.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:a.availableXMovements[i.positionYIndex]}}))},a}return o}(x),j=function(i){Object(u.a)(o,i);var n=Object(b.a)(o);function o(i,e,t,s){var a;return Object(p.a)(this,o),(a=n.call(this,i,e,t,s)).name="knight",a.icon="fas fa-chess-knight",a.availableMoves=function(){for(var i=[],n=function(n,o){if(n<0||n>7||o<0||o>7)return!0;var e=a.board[n][o];if(e){if(e.isPieceWhite!==a.isPieceWhite)return i.push({positionYIndex:n,positionXIndex:o}),!0}else i.push({positionYIndex:n,positionXIndex:o})},o=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]],e=0;e<o.length;e++){var t=o[e];n(a.positionYIndex+t[0],a.positionXIndex+t[1])}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:a.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:a.availableXMovements[i.positionYIndex]}}))},a}return o}(x),m=function(){function i(){Object(p.a)(this,i),this.board=[[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null]];var n=new X(this.board,0,3,!1);this.board[0][3]=n,this.board[0][0]=new Y(this.board,0,0,!1),this.board[0][7]=new Y(this.board,0,7,!1),this.board[0][1]=new j(this.board,0,1,!1),this.board[0][6]=new j(this.board,0,6,!1),this.board[0][4]=new I(this.board,0,4,!1),this.board[0][2]=new f(this.board,0,2,!1),this.board[0][5]=new f(this.board,0,5,!1),this.board[1][0]=new v(this.board,1,0,!1),this.board[1][1]=new v(this.board,1,1,!1),this.board[1][2]=new v(this.board,1,2,!1),this.board[1][3]=new v(this.board,1,3,!1),this.board[1][4]=new v(this.board,1,4,!1),this.board[1][5]=new v(this.board,1,5,!1),this.board[1][6]=new v(this.board,1,6,!1),this.board[1][7]=new v(this.board,1,7,!1);var o=new X(this.board,7,3,!0);this.board[7][3]=o,this.board[7][0]=new Y(this.board,7,0,!0),this.board[7][7]=new Y(this.board,7,7,!0),this.board[7][1]=new j(this.board,7,1,!0),this.board[7][6]=new j(this.board,7,6,!0),this.board[7][4]=new I(this.board,7,4,!0),this.board[7][2]=new f(this.board,7,2,!0),this.board[7][5]=new f(this.board,7,5,!0),this.board[6][0]=new v(this.board,6,0,!0),this.board[6][1]=new v(this.board,6,1,!0),this.board[6][2]=new v(this.board,6,2,!0),this.board[6][3]=new v(this.board,6,3,!0),this.board[6][4]=new v(this.board,6,4,!0),this.board[6][5]=new v(this.board,6,5,!0),this.board[6][6]=new v(this.board,6,6,!0),this.board[6][7]=new v(this.board,6,7,!0);for(var e=0;e<this.board.length;e++)for(var t=0;t<this.board[e].length;t++){var s=this.board[e][t];s&&(s.isPieceWhite?(s.king=o,s.oppKing=n):(s.oppKing=o,s.king=n))}}return Object(h.a)(i,[{key:"toString",value:function(){return JSON.stringify(this.board.map((function(i){return i.map((function(i){return i?"".concat(i.name):"null"}))})))}}]),i}(),O=(o(25),o(2)),g=Math.min(window.innerHeight,window.innerWidth)-50,w=g/8;var M=function(){var i=Object(e.useState)([]),n=Object(l.a)(i,2),o=n[0],t=n[1],s=Object(e.useState)({}),a=Object(l.a)(s,2),r=a[0],d=a[1],p=Object(e.useState)(null),h=Object(l.a)(p,2),c=h[0],u=h[1],b=Object(e.useRef)(new m).current,x=Object(e.useState)(!0),I=Object(l.a)(x,2),v=I[0],f=I[1];function Y(){t(b.board),d({}),u(null)}return Object(e.useEffect)((function(){Y()}),[]),Object(O.jsxs)("div",{className:"Chess",children:[Object(O.jsx)("div",{className:"Board",style:{width:g+"px",height:g+"px"},children:o.map((function(i,n){return Object(O.jsx)("div",{className:"Board-Y",style:{display:"flex"},children:i.map((function(i,o){var e=r[n+","+o];return Object(O.jsx)("div",{onClick:function(){return function(i,n,o){if(r[n+","+o]){if(!(null===c||void 0===c?void 0:c.move(n,o)))return;Y(),f(!v)}else if(i){if(v!==i.isPieceWhite)return;var e=i.availableMoves(),t={};e.forEach((function(i){t[i.positionYIndex+","+i.positionXIndex]=!0})),d(t),u(i)}else d({}),u(null)}(i,n,o)},className:"Board-X",style:{width:w+"px",height:w+"px",backgroundColor:o%2===0===(n%2===0)?"rgba(245, 222, 179, 0.596)":""},children:Object(O.jsx)("div",{className:i?v!==i.isPieceWhite?"Piece-inner-invalid":"Piece-inner-valid":"",style:{width:"70%",height:"70%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e||i&&i===c?"rgba(255, 255, 0, 0.5)":""},children:i?Object(O.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}}):""})},o)}))},n)}))}),Object(O.jsxs)("div",{className:"Side",style:{padding:"20px"},children:["Piece To Play",Object(O.jsx)("br",{}),Object(O.jsx)("i",{className:"fa fa-chess ",style:{color:v?"white":"black"}})]})]})};var k=function(){return Object(O.jsx)(r.a,{children:Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/chess",component:M}),Object(O.jsx)(d.a,{path:"/",to:"chess"})]})})},P=function(i){i&&i instanceof Function&&o.e(3).then(o.bind(null,36)).then((function(n){var o=n.getCLS,e=n.getFID,t=n.getFCP,s=n.getLCP,a=n.getTTFB;o(i),e(i),t(i),s(i),a(i)}))};a.a.render(Object(O.jsx)(t.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root")),P()}},[[35,1,2]]]);
//# sourceMappingURL=main.3cc2eae7.chunk.js.map