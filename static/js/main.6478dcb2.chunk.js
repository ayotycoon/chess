(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],{29:function(i,t,e){},30:function(i,t,e){},40:function(i,t,e){},41:function(i,t,e){},42:function(i,t,e){"use strict";e.r(t);var n=e(1),o=e.n(n),s=e(22),a=e.n(s),r=(e(29),e(14)),c=e(6),d=e(5),l=e(2),h=e(7),u=e(13),p=e(4),v=e(3),x=function(){function i(t,e,n,o,s){Object(l.a)(this,i),this.id=void 0,this.name=void 0,this.icon=void 0,this.isPieceWhite=void 0,this.prevPositionYIndex=void 0,this.prevPositionXIndex=void 0,this.prevPosition=void 0,this.positionYIndex=void 0,this.positionXIndex=void 0,this.position=void 0,this.id=t.id,this.name=t.name,this.icon=t.icon,this.isPieceWhite=t.isPieceWhite,this.prevPositionYIndex=e,this.prevPositionXIndex=n,this.positionYIndex=o,this.positionXIndex=s,this.prevPosition="".concat(b.availableXMovements[this.prevPositionXIndex]).concat(b.availableYMovements[this.prevPositionYIndex]),this.position="".concat(b.availableXMovements[this.positionXIndex]).concat(b.availableYMovements[this.positionYIndex])}return Object(h.a)(i,[{key:"toJSON",value:function(){return[this.id,this.name,this.icon,this.isPieceWhite,this.prevPositionYIndex,this.prevPositionXIndex,this.positionYIndex,this.positionXIndex,this.prevPosition,this.position]}},{key:"toCSV",value:function(){return[this.name,this.isPieceWhite?"white":"black",this.prevPosition,this.position]}},{key:"fromJSON",value:function(i){this.id=i[0],this.name=i[1],this.icon=i[2],this.isPieceWhite=i[3],this.prevPositionYIndex=i[4],this.prevPositionXIndex=i[5],this.positionYIndex=i[6],this.positionXIndex=i[7],this.prevPosition=i[8],this.position=i[9]}}]),i}(),b=function(){function i(t,e,n,o,s){var a=this;Object(l.a)(this,i),this.name="piece",this.icon="chess",this.positionXIndex=0,this.positionYIndex=0,this.isPieceWhite=!0,this.successfulMovements=0,this.chessBoard=new y(!0),this.id=0,this.king=null,this.oppKing=null,this.anticipateOppMoves=function(){for(var i={},t=0;t<a.chessBoard.board.length;t++)for(var e=0;e<a.chessBoard.board[t].length;e++){var n=a.chessBoard.board[t][e];n&&n.isPieceWhite!==a.isPieceWhite&&n.availableMoves().forEach((function(t){i[t.positionYIndex+","+t.positionXIndex]=!0}))}return i},this.anticipateMyMoves=function(){for(var i={},t=0;t<a.chessBoard.board.length;t++)for(var e=0;e<a.chessBoard.board[t].length;e++){var n=a.chessBoard.board[t][e];n&&n.isPieceWhite===a.isPieceWhite&&n.availableMoves().forEach((function(t){i[t.positionYIndex+","+t.positionXIndex]=!0}))}return i},this.availableMoves=function(){return[]},void 0==s?(i.globalId++,this.id=i.globalId):this.id=s,this.chessBoard=t,this.isPieceWhite=o,this.positionYIndex=e,this.positionXIndex=n}return Object(h.a)(i,[{key:"move",value:function(i,t,e){var n,o,s,a,r=new x(this.chessBoard.pieceHash[this.id],this.positionYIndex,this.positionXIndex,i,t),c=this.availableMoves(),d=!1;if(c.forEach((function(e){e.positionYIndex===i&&e.positionXIndex===t&&(d=!0)})),!d)return!1;var l=this.chessBoard.board[this.positionYIndex][this.positionXIndex];this.chessBoard.board[this.positionYIndex][this.positionXIndex]=null;var h=this.positionYIndex,u=this.positionXIndex;return this.positionYIndex=i,this.positionXIndex=t,this.chessBoard.board[this.positionYIndex][this.positionXIndex]=l,this.anticipateOppMoves()[(null===(n=this.king)||void 0===n?void 0:n.positionYIndex)+","+(null===(o=this.king)||void 0===o?void 0:o.positionXIndex)]?(alert("king at risk"),this.chessBoard.board[this.positionYIndex][this.positionXIndex]=null,this.positionYIndex=h,this.positionXIndex=u,this.chessBoard.board[h][u]=l,!1):(this.anticipateMyMoves()[(null===(s=this.oppKing)||void 0===s?void 0:s.positionYIndex)+","+(null===(a=this.oppKing)||void 0===a?void 0:a.positionXIndex)]&&alert("check"),e&&e(),this.successfulMovements++,this.chessBoard.addToMovement(r),!0)}},{key:"toString",value:function(){return{id:this.id,name:this.name,type:this.isPieceWhite?"White":"Black",position:"".concat(i.availableXMovements[this.positionXIndex]).concat(i.availableYMovements[this.positionYIndex])}}},{key:"currentPosition",value:function(){return"Y = ".concat(this.positionYIndex,", X = ").concat(this.positionXIndex)}}]),i}();b.availableXMovements=["A","B","C","D","E","F","G","H"],b.availableYMovements=["8","7","6","5","4","3","2","1"],b.globalId=0;var f=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i,n,o,s,a){var r;return Object(l.a)(this,e),(r=t.call(this,i,n,o,s,a)).name="queen",r.icon="fas fa-chess-queen",r.availableMoves=function(){for(var i=[],t=function(t,e){if(t<0||t>7||e<0||e>7)return!0;var n=r.chessBoard.board[t][e];if(n)return n.isPieceWhite===r.isPieceWhite||i.push({positionYIndex:t,positionXIndex:e}),!0;i.push({positionYIndex:t,positionXIndex:e})},e=r.positionYIndex+1;e<8;e++){if(t(e,r.positionXIndex))break}for(var n=r.positionYIndex-1;n>=0;n--){if(t(n,r.positionXIndex))break}for(var o=r.positionXIndex+1;o<8;o++){var s=o;if(t(r.positionYIndex,s))break}for(var a=r.positionXIndex-1;a>=0;a--){var c=a;if(t(r.positionYIndex,c))break}for(var d=1;d<8-r.positionYIndex;d++){if(t(r.positionYIndex+d,r.positionXIndex+d))break}for(var l=1;l<Math.max(r.positionYIndex,r.positionXIndex);l++){if(t(r.positionYIndex-l,r.positionXIndex-l))break}for(var h=1;h<8-r.positionYIndex;h++){if(t(r.positionYIndex+h,r.positionXIndex-h))break}for(var u=1;u<=r.positionYIndex;u++){if(t(r.positionYIndex-u,r.positionXIndex+u))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return e}(b),m=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i,n,o,s,a){var r;return Object(l.a)(this,e),(r=t.call(this,i,n,o,s,a)).name="pawn",r.icon="fas fa-chess-pawn",r._parent=b.prototype,r.move=function(i,t){return r._parent.move.apply(Object(u.a)(r),[i,t,function(){if(r.isPieceWhite&&0===i||!r.isPieceWhite&&7===i){var t=new f(r.chessBoard,i,r.positionXIndex,r.isPieceWhite,r.id);t.king=r.king,t.oppKing=r.oppKing,r.chessBoard.board[r.positionYIndex][r.positionXIndex]=t}}])},r.availableMoves=function(){var i,t,e=[],n=r.isPieceWhite?-1:1,o=r.isPieceWhite?-2:2;return r.positionYIndex+n<b.availableXMovements.length&&r.positionYIndex+n>=0&&!r.chessBoard.board[r.positionYIndex+n][r.positionXIndex]&&(e.push({positionYIndex:r.positionYIndex+n,positionXIndex:r.positionXIndex}),0===r.successfulMovements&&r.positionYIndex+o<b.availableYMovements.length&&r.positionYIndex+o>=0&&!r.chessBoard.board[r.positionYIndex+o][r.positionXIndex]&&e.push({positionYIndex:r.positionYIndex+o,positionXIndex:r.positionXIndex})),r.positionYIndex+n<b.availableYMovements.length&&r.positionYIndex+n>=0&&r.chessBoard.board[r.positionYIndex+n][r.positionXIndex+1]&&(null===(i=r.chessBoard.board[r.positionYIndex+n][r.positionXIndex+1])||void 0===i?void 0:i.isPieceWhite)===!r.isPieceWhite&&e.push({positionYIndex:r.positionYIndex+n,positionXIndex:r.positionXIndex+1}),r.positionYIndex+n<b.availableYMovements.length&&r.positionYIndex+n>=0&&r.chessBoard.board[r.positionYIndex+n][r.positionXIndex-1]&&(null===(t=r.chessBoard.board[r.positionYIndex+n][r.positionXIndex-1])||void 0===t?void 0:t.isPieceWhite)===!r.isPieceWhite&&e.push({positionYIndex:r.positionYIndex+n,positionXIndex:r.positionXIndex-1}),e.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return e}(b),j=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i,n,o,s,a){var r;return Object(l.a)(this,e),(r=t.call(this,i,n,o,s,a)).name="bishop",r.icon="fas fa-chess-bishop",r.availableMoves=function(){for(var i=[],t=function(t,e){if(t<0||t>7||e<0||e>7)return!0;var n=r.chessBoard.board[t][e];if(n)return n.isPieceWhite===r.isPieceWhite||i.push({positionYIndex:t,positionXIndex:e}),!0;i.push({positionYIndex:t,positionXIndex:e})},e=1;e<8-r.positionYIndex;e++){if(t(r.positionYIndex+e,r.positionXIndex+e))break}for(var n=1;n<Math.max(r.positionYIndex,r.positionXIndex);n++){if(t(r.positionYIndex-n,r.positionXIndex-n))break}for(var o=1;o<8-r.positionYIndex;o++){if(t(r.positionYIndex+o,r.positionXIndex-o))break}for(var s=1;s<=Math.max(r.positionYIndex,r.positionXIndex);s++){if(t(r.positionYIndex-s,r.positionXIndex+s))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return e}(b),I=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i,n,o,s,a){var r;return Object(l.a)(this,e),(r=t.call(this,i,n,o,s,a)).name="rook",r.icon="fas fa-chess-rook",r.availableMoves=function(){for(var i=[],t=function(t,e){if(t<0||t>7||e<0||e>7)return!0;var n=r.chessBoard.board[t][e];if(n)return n.isPieceWhite===r.isPieceWhite||i.push({positionYIndex:t,positionXIndex:e}),!0;i.push({positionYIndex:t,positionXIndex:e})},e=r.positionYIndex+1;e<8;e++){if(t(e,r.positionXIndex))break}for(var n=r.positionYIndex-1;n>=0;n--){if(t(n,r.positionXIndex))break}for(var o=r.positionXIndex+1;o<8;o++){var s=o;if(t(r.positionYIndex,s))break}for(var a=r.positionXIndex-1;a>=0;a--){var c=a;if(t(r.positionYIndex,c))break}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return e}(b),g=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i,n,o,s,a){var r;return Object(l.a)(this,e),(r=t.call(this,i,n,o,s,a)).name="king",r.icon="fas fa-chess-king",r.availableMoves=function(){for(var i=[],t=function(t,e){if(t<0||t>7||e<0||e>7)return!0;var n=r.chessBoard.board[t][e];if(n)return n.isPieceWhite===r.isPieceWhite||i.push({positionYIndex:t,positionXIndex:e}),!0;i.push({positionYIndex:t,positionXIndex:e})},e=[[1,0],[0,1],[-1,0],[0,-1],[1,1],[-1,-1],[-1,1],[1,-1]],n=0;n<e.length;n++){var o=e[n];t(r.positionYIndex+o[0],r.positionXIndex+o[1])}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return e}(b),O=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i,n,o,s,a){var r;return Object(l.a)(this,e),(r=t.call(this,i,n,o,s,a)).name="knight",r.icon="fas fa-chess-knight",r.availableMoves=function(){for(var i=[],t=function(t,e){if(t<0||t>7||e<0||e>7)return!0;var n=r.chessBoard.board[t][e];if(n){if(n.isPieceWhite!==r.isPieceWhite)return i.push({positionYIndex:t,positionXIndex:e}),!0}else i.push({positionYIndex:t,positionXIndex:e})},e=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]],n=0;n<e.length;n++){var o=e[n];t(r.positionYIndex+o[0],r.positionXIndex+o[1])}return i.map((function(i){return{positionYIndex:i.positionYIndex,positionY:b.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:b.availableXMovements[i.positionYIndex]}}))},r}return e}(b),y=function(){function i(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(l.a)(this,i),this.board=[[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null]],this.isWhiteTurnToPlay=!1,this.pieceHash={},this.killedHash={},this.movements=[],this.movementIndex=0,this.initiated=!1,this.initiated||t||(this.init(),this.initiated=!0)}return Object(h.a)(i,[{key:"init",value:function(){var i=new g(this,0,3,!1);this.board[0][3]=i,this.board[0][0]=new I(this,0,0,!1),this.board[0][7]=new I(this,0,7,!1),this.board[0][1]=new O(this,0,1,!1),this.board[0][6]=new O(this,0,6,!1),this.board[0][4]=new f(this,0,4,!1),this.board[0][2]=new j(this,0,2,!1),this.board[0][5]=new j(this,0,5,!1),this.board[1][0]=new m(this,1,0,!1),this.board[1][1]=new m(this,1,1,!1),this.board[1][2]=new m(this,1,2,!1),this.board[1][3]=new m(this,1,3,!1),this.board[1][4]=new m(this,1,4,!1),this.board[1][5]=new m(this,1,5,!1),this.board[1][6]=new m(this,1,6,!1),this.board[1][7]=new m(this,1,7,!1);var t=new g(this,7,3,!0);this.board[7][3]=t,this.board[7][0]=new I(this,7,0,!0),this.board[7][7]=new I(this,7,7,!0),this.board[7][1]=new O(this,7,1,!0),this.board[7][6]=new O(this,7,6,!0),this.board[7][4]=new f(this,7,4,!0),this.board[7][2]=new j(this,7,2,!0),this.board[7][5]=new j(this,7,5,!0),this.board[6][0]=new m(this,6,0,!0),this.board[6][1]=new m(this,6,1,!0),this.board[6][2]=new m(this,6,2,!0),this.board[6][3]=new m(this,6,3,!0),this.board[6][4]=new m(this,6,4,!0),this.board[6][5]=new m(this,6,5,!0),this.board[6][6]=new m(this,6,6,!0),this.board[6][7]=new m(this,6,7,!0);for(var e=0;e<this.board.length;e++)for(var n=0;n<this.board[e].length;n++){var o=this.board[e][n];o&&(this.pieceHash[o.id]=o,o.isPieceWhite?(o.king=t,o.oppKing=i):(o.oppKing=t,o.king=i))}}},{key:"toString",value:function(){return JSON.stringify(this.board.map((function(i){return i.map((function(i){return i?"".concat(i.id,"-").concat(i.name):"null"}))})))}},{key:"canUndo",value:function(){return this.movementIndex<this.movements.length}},{key:"canRedo",value:function(){return this.movementIndex-1>=0}},{key:"performUndo",value:function(){var i=this.movements[this.movementIndex],t=this.board[i.positionYIndex][i.positionXIndex];t&&(t.positionYIndex=i.prevPositionYIndex,t.positionXIndex=i.prevPositionXIndex,this.board[i.prevPositionYIndex][i.prevPositionXIndex]=t,this.board[i.positionYIndex][i.positionXIndex]=this.killedHash[i.positionYIndex+","+i.positionXIndex],this.movementIndex++)}},{key:"performRedo",value:function(){this.movementIndex--;var i=this.movements[this.movementIndex],t=this.board[i.prevPositionYIndex][i.prevPositionXIndex];t&&(t.positionYIndex=i.positionYIndex,t.positionXIndex=i.positionXIndex,this.board[i.positionYIndex][i.positionXIndex]=t,this.board[i.prevPositionYIndex][i.prevPositionXIndex]=null)}},{key:"addToMovement",value:function(i){var t=this.getMovements();t.unshift(i),this.movements=t,this.movementIndex=0}},{key:"getMovements",value:function(){return this.movements.slice(this.movementIndex)}}]),i}(),w=(e(30),e(0));var Y=function(i){var t=i.pieceWidth,e=i.horizontal,n=e?b.availableXMovements:b.availableYMovements;return Object(w.jsx)("div",{className:e?"Bar-X":"",children:n.map((function(i,n){return Object(w.jsx)("div",{className:e?"Bar-X":"Board-X",style:{width:t+"px",height:t+"px"},children:i},n)}))})},P=!Object({NODE_ENV:"production",PUBLIC_URL:"/games",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).production,X=function(i){var t="data:text/csv;charset=utf-8,";i.forEach((function(i){var e=i.toCSV().join(",");t+=e+"\r\n"}));var e=encodeURI(t),n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download","my_data.csv"),document.body.appendChild(n),n.click()},k=[{to:"/chess",name:"Chess",img:"/games/assets/chess-banner.png"},{to:"/checkers",name:"Checkers",img:"/games/assets/checkers-banner.png"},{to:"/stolen-in-60-seconds",name:"Stolen in 60 seconds",img:"/games/assets/ss60-banner.png"}];function W(){return Math.min(window.innerHeight,window.innerWidth)-(150+(window.innerWidth>700?100:0))}var M=Object(n.createContext)({}),B=function(i){var t=i.children,e=Object(n.useState)(!0),o=Object(d.a)(e,2),s=o[0],a=o[1],r=Object(n.useState)(!1),c=Object(d.a)(r,2),l={showNav:s,setShowNav:a,optionsClicked:c[0],setOptionsClicked:c[1]};return Object(w.jsx)(M.Provider,{value:l,children:t})};var N=function(){var i=Object(n.useState)({boardWidth:W(),pieceWidth:W()/8}),t=Object(d.a)(i,2),e=t[0],o=t[1],s=Object(n.useState)([]),a=Object(d.a)(s,2),r=a[0],c=a[1],l=Object(n.useState)([]),h=Object(d.a)(l,2),u=h[0],p=h[1],v=Object(n.useState)({}),x=Object(d.a)(v,2),b=x[0],f=x[1],m=Object(n.useState)(null),j=Object(d.a)(m,2),I=j[0],g=j[1],O=Object(n.useRef)(null),k=Object(n.useState)(!0),B=Object(d.a)(k,2),N=B[0],S=B[1],C=Object(n.useState)({canUndo:!1,canRedo:!1}),T=Object(d.a)(C,2),E=T[0],H=E.canUndo,R=E.canRedo,z=T[1],L=Object(n.useContext)(M),U=(L.showNav,L.setShowNav);function G(){O.current.isWhiteTurnToPlay=!O.current.isWhiteTurnToPlay,c(O.current.board),p(O.current.getMovements()),f({}),g(null),S(O.current.isWhiteTurnToPlay),z({canRedo:O.current.canRedo(),canUndo:O.current.canUndo()})}function _(i,t,e){if(b[t+","+e]){if(!(null===I||void 0===I?void 0:I.move(t,e)))return;G()}else if(i){if(s=i.toString(),P&&console.warn(s),N!==i.isPieceWhite)return f({}),void g(null);var n=i.availableMoves(),o={};n.forEach((function(i){o[i.positionYIndex+","+i.positionXIndex]=!0})),f(o),g(i)}else f({}),g(null);var s}return Object(n.useEffect)((function(){U(!1),O.current=new y,G();var i=function(){var i=W();o({boardWidth:i,pieceWidth:i/8})};return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[]),Object(w.jsx)("div",{className:"Whole-Body",children:Object(w.jsxs)("div",{className:"Chess-Field",children:[Object(w.jsxs)("div",{className:"Chess-Pre-Playable",children:[Object(w.jsx)(Y,{pieceWidth:e.pieceWidth,horizontal:!0}),Object(w.jsxs)("div",{className:"Chess-Playable",children:[Object(w.jsx)(Y,{pieceWidth:e.pieceWidth,horizontal:!1}),Object(w.jsx)("div",{className:"Board",style:{width:e.boardWidth+"px",height:e.boardWidth+"px"},children:r.map((function(i,t){return Object(w.jsx)("div",{className:"Board-Y",style:{display:"flex"},children:i.map((function(i,n){var o=b[t+","+n];return Object(w.jsx)("div",{onClick:function(){return _(i,t,n)},className:"Board-X",style:{width:e.pieceWidth+"px",height:e.pieceWidth+"px",backgroundColor:n%2===0===(t%2===0)?"rgba(245, 222, 179, 0.596)":""},children:Object(w.jsx)("div",{className:i?N!==i.isPieceWhite?"Piece-inner-invalid":"Piece-inner-valid":"",style:{width:"70%",height:"70%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:o||i&&i===I?"rgba(255, 255, 0, 0.5)":""},children:i?Object(w.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}}):""})},n)}))},t)}))}),Object(w.jsx)(Y,{pieceWidth:e.pieceWidth,horizontal:!1})]}),Object(w.jsx)(Y,{pieceWidth:e.pieceWidth,horizontal:!0}),Object(w.jsxs)("div",{className:"text-center",children:[H&&Object(w.jsxs)("button",{onClick:function(){O.current.performUndo(),G()},className:"m-2",children:["  ",Object(w.jsx)("i",{className:"fa fa-undo"})]}),R&&Object(w.jsxs)("button",{onClick:function(){O.current.performRedo(),G()},className:"m-2",children:["  ",Object(w.jsx)("i",{className:"fa fa-redo"})]})]})]}),Object(w.jsxs)("div",{className:"Side",style:{padding:"10px"},children:[Object(w.jsxs)("div",{className:"",style:{padding:"0 30px"},children:["Piece To Play",Object(w.jsx)("br",{}),Object(w.jsx)("i",{className:"fa fa-chess ",style:{color:N?"white":"black"}}),Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{style:{textAlign:"center"},children:[0!=u.length&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("button",{onClick:function(){X(u)},children:Object(w.jsx)("i",{className:"fa fa-file-download"})}),Object(w.jsx)("br",{})]}),u.map((function(i,t){return Object(w.jsxs)("div",{style:{fontSize:"13px",marginBottom:"5px",display:"flex",justifyContent:"center"},children:[Object(w.jsx)("div",{style:{marginRight:"5px"},children:Object(w.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}})}),Object(w.jsxs)("div",{children:[i.prevPosition," ",Object(w.jsx)("i",{className:"fa fa-arrow-right"})," ",i.position]})]},t)}))]})]})," "]})]})})};var S=function(){var i=Object(n.useState)(0),t=Object(d.a)(i,2),e=t[0],o=t[1];return Object(n.useEffect)((function(){var i=document.querySelector("#bound"),t=null===i||void 0===i?void 0:i.getBoundingClientRect();o((null===t||void 0===t?void 0:t.width)||0)}),[]),Object(w.jsx)("div",{className:"container",children:Object(w.jsx)("div",{className:"row",children:k.map((function(i,t){return Object(w.jsx)("div",{id:"bound",className:"col-6 col-md-4 col-lg-3 mb-2",children:Object(w.jsxs)(r.b,{className:"d-block border rounded  text-center bound-inner",to:i.to,style:{height:e-24+"px",verticalAlign:"bottom",background:"url('".concat(i.img,"')"),backgroundSize:"cover"},children:[Object(w.jsx)("div",{style:{visibility:"hidden"},children:i.name}),Object(w.jsx)("div",{className:"bound-content p-1 bg-primary rounded text-white",children:i.name})]},t)})}))})})},C=e(10),T=function(){function i(t,e,n,o,s,a,r,c){var d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];Object(l.a)(this,i),this.id=void 0,this.name=void 0,this.icon=void 0,this.isPieceWhite=void 0,this.prevPositionYIndex=void 0,this.prevPositionXIndex=void 0,this.prevPosition=void 0,this.positionYIndex=void 0,this.positionXIndex=void 0,this.position=void 0,this.jumpPosition=void 0,this.id=t,this.name=e,this.icon=n,this.isPieceWhite=o,this.prevPositionYIndex=s,this.prevPositionXIndex=a,this.positionYIndex=r,this.positionXIndex=c,this.prevPosition="".concat(E.availableXMovements[this.prevPositionXIndex]).concat(E.availableYMovements[this.prevPositionYIndex]),this.position="".concat(E.availableXMovements[this.positionXIndex]).concat(E.availableYMovements[this.positionYIndex]),this.jumpPosition=d}return Object(h.a)(i,[{key:"toJSON",value:function(){return[this.id,this.name,this.icon,this.isPieceWhite,this.prevPositionYIndex,this.prevPositionXIndex,this.positionYIndex,this.positionXIndex,this.prevPosition,this.position,this.jumpPosition]}},{key:"toCSV",value:function(){return[this.name,this.isPieceWhite?"white":"black",this.prevPosition,this.position]}},{key:"fromJSON",value:function(i){this.id=i[0],this.name=i[1],this.icon=i[2],this.isPieceWhite=i[3],this.prevPositionYIndex=i[4],this.prevPositionXIndex=i[5],this.positionYIndex=i[6],this.positionXIndex=i[7],this.prevPosition=i[8],this.position=i[9],this.jumpPosition=i[10]}},{key:"serialize",value:function(){return[this.id,this.name,this.icon,this.isPieceWhite,this.prevPositionYIndex,this.prevPositionXIndex,this.positionYIndex,this.positionXIndex,this.jumpPosition]}}]),i}(),E=function(){function i(t,e,n,o,s){var a=this;Object(l.a)(this,i),this.name="piece",this.icon="chess",this.positionXIndex=0,this.positionYIndex=0,this.isPieceWhite=!0,this.successfulMovements=0,this.chessBoard=new L(!0),this.id=0,this.anticipateOppMoves=function(){for(var i={},t=0;t<a.chessBoard.board.length;t++)for(var e=0;e<a.chessBoard.board[t].length;e++){var n=a.chessBoard.board[t][e];n&&n.isPieceWhite!==a.isPieceWhite&&n.availableMoves().forEach((function(t){i[t.positionYIndex+","+t.positionXIndex]=!0}))}return i},this.anticipateMyMoves=function(){for(var i={},t=0;t<a.chessBoard.board.length;t++)for(var e=0;e<a.chessBoard.board[t].length;e++){var n=a.chessBoard.board[t][e];n&&n.isPieceWhite===a.isPieceWhite&&n.availableMoves().forEach((function(t){i[t.positionYIndex+","+t.positionXIndex]=!0}))}return i},this.availableMoves=function(){return[]},this.clone=function(){return null},this.serialize=function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.id,a.name,a.icon,a.positionYIndex,a.positionXIndex,a.isPieceWhite,a.successfulMovements];return i?JSON.stringify(t):t},void 0==s?(i.globalId++,this.id=i.globalId):this.id=s,this.chessBoard=t,this.isPieceWhite=o,this.positionYIndex=e,this.positionXIndex=n}return Object(h.a)(i,[{key:"move",value:function(i,t,e){var n=this.availableMoves(),o=!1,s=void 0;n.forEach((function(e){e.positionYIndex===i&&e.positionXIndex===t&&(o=!0,s=e.jumpPosition)}));var a=this.chessBoard.pieceHash[this.id],r=new T(a.id,a.name,a.icon,a.isPieceWhite,this.positionYIndex,this.positionXIndex,i,t,s);if(!o)return!1;var c=this.chessBoard.board[this.positionYIndex][this.positionXIndex];this.chessBoard.board[this.positionYIndex][this.positionXIndex]=null;this.positionYIndex,this.positionXIndex;return this.positionYIndex=i,this.positionXIndex=t,this.chessBoard.board[this.positionYIndex][this.positionXIndex]=c,e&&e(),this.successfulMovements++,this.chessBoard.addToMovement(r),!0}},{key:"toString",value:function(){return{id:this.id,name:this.name,type:this.isPieceWhite?"White":"Black",position:"".concat(i.availableXMovements[this.positionXIndex]).concat(i.availableYMovements[this.positionYIndex])}}},{key:"currentPosition",value:function(){return"Y = ".concat(this.positionYIndex,", X = ").concat(this.positionXIndex)}}]),i}();E.availableXMovements=["A","B","C","D","E","F","G","H"],E.availableYMovements=["8","7","6","5","4","3","2","1"],E.globalId=0;var H=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i,n,o,s,a){var r;return Object(l.a)(this,e),(r=t.call(this,i,n,o,s,a)).name="queen",r.icon="fas fa-chess-queen",r.availableMoves=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.positionYIndex,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.positionXIndex,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];1==t&&console.log({positionYIndex:e,positionXIndex:n});for(var s=function(i){return i>=0&&i<=7},a=function(e,n){e.id=t;var o=e.positionYIndex+","+e.positionXIndex,s=i[o];s&&t!==s.id||o==r.positionYIndex+","+r.positionXIndex||(s?(!s.jumpPosition||(e.jumpPosition||[]).length>s.jumpPosition.length)&&(i[o]=e):i[o]=e,n||r.availableMoves(i,t+1,e.positionYIndex,e.positionXIndex,e.jumpPosition||[]))},c=function(i,e,n,o){var c,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!s(i)||!s(e))return!0;var l=r.chessBoard.board[i][e];if(l){if(l.isPieceWhite===r.isPieceWhite)return!0;if(l.isPieceWhite!==r.isPieceWhite&&s(i+n)&&s(e+o)&&null!=r.chessBoard.board[i+n][e+o]&&(null===(c=r.chessBoard.board[i+n][e+o])||void 0===c?void 0:c.isPieceWhite)!=r.isPieceWhite)return!0;l.isPieceWhite!==r.isPieceWhite&&s(i+n)&&s(e+o)&&null==r.chessBoard.board[i+n][e+o]&&(d.push([i,e]),a({positionYIndex:i+n,positionXIndex:e+o,jumpPosition:Object(C.a)(d)}))}else{if(0!=t)return!0;a({positionYIndex:i,positionXIndex:e},!0)}return!1},d=Object(C.a)(o),l=1;l<8-e;l++){var h=e+l,u=n+l;if(c(h,u,1,1,d))break}for(var p=Object(C.a)(o),v=1;v<Math.max(e,n);v++){var x=e-v,b=n-v;if(c(x,b,-1,-1,p))break}for(var f=Object(C.a)(o),m=1;m<8-e;m++){var j=e+m,I=n-m;if(c(j,I,1,-1,f))break}for(var g=Object(C.a)(o),O=1;O<=e;O++){var y=e-O,w=n+O;if(c(y,w,-1,1,g))break}return Object.values(i).map((function(i){return{positionYIndex:i.positionYIndex,positionY:E.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:E.availableXMovements[i.positionYIndex],jumpPosition:i.jumpPosition}}))},r.clone=function(){return new e(r.chessBoard,r.positionYIndex,r.positionXIndex,r.isPieceWhite,r.id)},r}return e}(E),R=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i,n,o,s,a){var r;return Object(l.a)(this,e),(r=t.call(this,i,n,o,s,a)).name="pawn",r.icon="fas fa-circle",r._parent=E.prototype,r.move=function(i,t){return r._parent.move.apply(Object(u.a)(r),[i,t,function(){if(r.isPieceWhite&&0===i||!r.isPieceWhite&&7===i){var t=new H(r.chessBoard,i,r.positionXIndex,r.isPieceWhite,r.id);r.chessBoard.board[r.positionYIndex][r.positionXIndex]=t}}])},r.availableMoves=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.positionYIndex,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.positionXIndex,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=[[1,1],[-1,-1],[1,-1],[-1,1]],a=function(i){return i>=0&&i<=7},c=function(e,n){e.id=t;var o=e.positionYIndex+","+e.positionXIndex,s=i[o];s&&t!==s.id||o==r.positionYIndex+","+r.positionXIndex||(s?(!s.jumpPosition||(e.jumpPosition||[]).length>s.jumpPosition.length)&&(i[o]=e):i[o]=e,n||r.availableMoves(i,t+1,e.positionYIndex,e.positionXIndex,e.jumpPosition||[]))},d=function(i,n,o,s){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!a(i)||!a(n))return!0;var l=r.chessBoard.board[i][n];if(l)l.isPieceWhite===r.isPieceWhite||l.isPieceWhite!==r.isPieceWhite&&a(i+o)&&a(n+s)&&null==r.chessBoard.board[i+o][n+s]&&(d.push([i,n]),c({positionYIndex:i+o,positionXIndex:n+s,jumpPosition:d}));else{if(0!=t||r.isPieceWhite&&e<i||!r.isPieceWhite&&e>i)return!0;c({positionYIndex:i,positionXIndex:n},!0)}return!1},l=Object(C.a)(o);return s.forEach((function(i){var t=e+i[0],o=n+i[1];d(t,o,i[0],i[1],l)})),Object.values(i).map((function(i){return{positionYIndex:i.positionYIndex,positionY:E.availableYMovements[i.positionYIndex],positionXIndex:i.positionXIndex,positionX:E.availableXMovements[i.positionYIndex],jumpPosition:i.jumpPosition}}))},r.clone=function(){return new e(r.chessBoard,r.positionYIndex,r.positionXIndex,r.isPieceWhite,r.id)},r}return e}(E),z=function(i,t){var e=Object(d.a)(i,7),n=e[0],o=e[1],s=e[2],a=e[3],r=e[4],c=e[5],l=e[6],h=null;switch(o){case"queen":h=new H(t,a,r,c,n);break;case"pawn":h=new R(t,a,r,c,n);break;default:return null}return h.successfulMovements=l,h.icon=s,h},L=function(){function i(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(l.a)(this,i),this.board=i.newBoard(),this.isWhiteTurnToPlay=!1,this.pieceHash={},this.killedHash={},this.movements=[],this.movementIndex=0,this.initiated=!1,this.clone=function(){var e=new i(!0);e.isWhiteTurnToPlay=t.isWhiteTurnToPlay,e.pieceHash=t.pieceHash,e.movements=t.movements;for(var n=0;n<t.board.length;n++)for(var o=0;o<t.board[n].length;o++){var s=t.board[n][o];s&&(e.board[n][o]=s.clone())}return e},this.serialize=function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t.board.map((function(i){return i.map((function(i){return null==i?null:i.serialize()}))})),n=t.movements.map((function(i){return i.serialize()})),o=t.movementIndex,s=t.isWhiteTurnToPlay,a=Object.values(t.killedHash).map((function(i){return i?i.serialize():null})),r=[e,n,o,s,a];return i?JSON.stringify(r):r},this.initiated||e||(this.init(),this.initiated=!0)}return Object(h.a)(i,[{key:"init",value:function(){this.board[0][0]=new R(this,0,0,!1),this.board[0][2]=new R(this,0,2,!1),this.board[0][4]=new R(this,0,4,!1),this.board[0][6]=new R(this,0,6,!1),this.board[1][1]=new R(this,1,1,!1),this.board[1][3]=new R(this,1,3,!1),this.board[1][5]=new R(this,1,5,!1),this.board[1][7]=new R(this,1,7,!1),this.board[2][0]=new R(this,2,0,!1),this.board[2][2]=new R(this,2,2,!1),this.board[2][4]=new R(this,2,4,!1),this.board[2][6]=new R(this,2,6,!1),this.board[5][1]=new R(this,5,1,!0),this.board[5][3]=new R(this,5,3,!0),this.board[5][5]=new R(this,5,5,!0),this.board[5][7]=new R(this,5,7,!0),this.board[6][0]=new R(this,6,0,!0),this.board[6][2]=new R(this,6,2,!0),this.board[6][4]=new R(this,6,4,!0),this.board[6][6]=new R(this,6,6,!0),this.board[7][1]=new R(this,7,1,!0),this.board[7][3]=new R(this,7,3,!0),this.board[7][5]=new R(this,7,5,!0),this.board[7][7]=new R(this,7,7,!0);for(var i=0;i<this.board.length;i++)for(var t=0;t<this.board[i].length;t++){var e=this.board[i][t];e&&(this.pieceHash[e.id]=e)}}},{key:"toString",value:function(){return JSON.stringify(this.board.map((function(i){return i.map((function(i){return i?"".concat(i.id,"-").concat(i.name):"null"}))})))}},{key:"canUndo",value:function(){return this.movementIndex<this.movements.length}},{key:"canRedo",value:function(){return this.movementIndex-1>=0}},{key:"performUndo",value:function(){var i=this,t=this.movements[this.movementIndex],e=this.board[t.positionYIndex][t.positionXIndex];e&&(e.positionYIndex=t.prevPositionYIndex,e.positionXIndex=t.prevPositionXIndex,this.board[t.positionYIndex][t.positionXIndex]=null,this.board[t.prevPositionYIndex][t.prevPositionXIndex]=e,t.jumpPosition.forEach((function(t){i.board[t[0]][t[1]]=i.killedHash[t[0]+","+t[1]]})),this.movementIndex++)}},{key:"performRedo",value:function(){var i=this;this.movementIndex--;var t=this.movements[this.movementIndex],e=this.board[t.prevPositionYIndex][t.prevPositionXIndex];e&&(this.board[t.prevPositionYIndex][t.prevPositionXIndex]=null,e.positionYIndex=t.positionYIndex,e.positionXIndex=t.positionXIndex,this.board[t.positionYIndex][t.positionXIndex]=e,t.jumpPosition.forEach((function(t){i.board[t[0]][t[1]]=null})))}},{key:"addToMovement",value:function(i){var t=this.getMovements();t.unshift(i),this.movements=t,this.movementIndex=0}},{key:"getMovements",value:function(){return this.movements.slice(this.movementIndex)}}],[{key:"newBoard",value:function(){return[[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null]]}}]),i}();L.deSerialize=function(i){var t=new L(!0),e=JSON.parse(i),n=Object(d.a)(e,5),o=n[0],s=n[1],a=n[2],r=n[3],c=n[4],l=o.map((function(i){return i.map((function(i){if(null==i)return null;var e=z(i,t);return null==e?null:(t.pieceHash[e.id]=e,e)}))})),h=s.map((function(i){return new T(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])})),u=a,p=r,v={};return c.forEach((function(i){if(null!=i){var e=z(i,t);if(null==e)return;v[(null===e||void 0===e?void 0:e.positionYIndex)+","+(null===e||void 0===e?void 0:e.positionXIndex)]=e}})),t.board=l,t.movements=h,t.movementIndex=u,t.isWhiteTurnToPlay=p,t.killedHash=v,t};e(40);var U=function(){var i=Object(n.useState)({boardWidth:W(),pieceWidth:W()/8}),t=Object(d.a)(i,2),e=t[0],o=t[1],s=Object(n.useState)([]),a=Object(d.a)(s,2),r=a[0],c=a[1],l=Object(n.useState)([]),h=Object(d.a)(l,2),u=h[0],p=h[1],v=Object(n.useState)({}),x=Object(d.a)(v,2),b=x[0],f=x[1],m=Object(n.useState)(null),j=Object(d.a)(m,2),I=j[0],g=j[1],O=Object(n.useRef)(null),y=Object(n.useState)(!0),Y=Object(d.a)(y,2),P=Y[0],k=Y[1],M=Object(n.useState)({canUndo:!1,canRedo:!1}),B=Object(d.a)(M,2),N=B[0],S=N.canUndo,C=N.canRedo,T=B[1];function E(){O.current.isWhiteTurnToPlay=!O.current.isWhiteTurnToPlay,c(O.current.board),p(O.current.getMovements()),f({}),g(null),k(O.current.isWhiteTurnToPlay),T({canRedo:O.current.canRedo(),canUndo:O.current.canUndo()})}return Object(n.useEffect)((function(){O.current=new L,E();var i=function(){var i=W();o({boardWidth:i,pieceWidth:i/8})};return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}}),[]),Object(w.jsx)("div",{className:"Whole-Body",children:Object(w.jsxs)("div",{className:"Chess-Field",children:[Object(w.jsxs)("div",{className:"Chess-Pre-Playable",children:[Object(w.jsx)("div",{className:"Chess-Playable",children:Object(w.jsx)("div",{className:"Board",style:{width:e.boardWidth+"px",height:e.boardWidth+"px"},children:r.map((function(i,t){return Object(w.jsx)("div",{className:"Board-Y",style:{display:"flex"},children:i.map((function(i,n){var o=b[t+","+n];return Object(w.jsx)("div",{onClick:function(){return function(i,t,e){if(b[t+","+e]){if(!(null===I||void 0===I?void 0:I.move(t,e)))return;b[t+","+e].forEach((function(i){var t=Object(d.a)(i,2),e=t[0],n=t[1];O.current.killedHash[e+","+n]=O.current.board[e][n],O.current.board[e][n]=null})),E()}else if(i){if(P!==i.isPieceWhite)return f({}),void g(null);var n=i.availableMoves(),o={};n.forEach((function(i){var t=void 0==i.jumpPosition?[]:i.jumpPosition;o[i.positionYIndex+","+i.positionXIndex]=t})),f(o),g(i)}else f({}),g(null)}(i,t,n)},className:"Board-X",style:{width:e.pieceWidth+"px",height:e.pieceWidth+"px",backgroundColor:n%2===0===(t%2===0)?"rgba(245, 222, 179, 0.596)":""},children:Object(w.jsx)("div",{className:i?P!==i.isPieceWhite?"Piece-inner-invalid":"Piece-inner-valid":"",style:{width:"70%",height:"70%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:o||i&&i===I?"rgba(255, 255, 0, 0.5)":""},children:i?Object(w.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}}):""})},n)}))},t)}))})}),Object(w.jsxs)("div",{className:"text-center",children:[S&&Object(w.jsxs)("button",{onClick:function(){O.current.performUndo(),E()},className:"m-2",children:["  ",Object(w.jsx)("i",{className:"fa fa-undo"})]}),C&&Object(w.jsxs)("button",{onClick:function(){O.current.performRedo(),E()},className:"m-2",children:["  ",Object(w.jsx)("i",{className:"fa fa-redo"})]})]})]}),Object(w.jsxs)("div",{className:"Side",style:{padding:"10px"},children:[Object(w.jsxs)("div",{className:"",style:{padding:"0 30px"},children:["Piece To Play",Object(w.jsx)("br",{}),Object(w.jsx)("i",{className:"fa fa-circle ",style:{color:P?"white":"black"}}),Object(w.jsx)("hr",{}),Object(w.jsxs)("div",{style:{textAlign:"center"},children:[Object(w.jsx)("button",{onClick:function(){var i=O.current.serialize(!0);localStorage.setItem("checkers",i)},children:Object(w.jsx)("i",{className:"fa fa-save"})}),Object(w.jsx)("button",{onClick:function(){var i=localStorage.getItem("checkers");if(i){var t=L.deSerialize(i);t.isWhiteTurnToPlay=!t.isWhiteTurnToPlay,O.current=t,E()}},children:Object(w.jsx)("i",{className:"fa fa-upload"})}),0!=u.length&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("button",{onClick:function(){X(u)},children:Object(w.jsx)("i",{className:"fa fa-file-download"})}),Object(w.jsx)("br",{})]}),u.map((function(i,t){return Object(w.jsxs)("div",{style:{fontSize:"13px",marginBottom:"5px",display:"flex",justifyContent:"center"},children:[Object(w.jsx)("div",{style:{marginRight:"5px"},children:Object(w.jsx)("i",{className:i.icon,style:{color:i.isPieceWhite?"white":"black"}})}),Object(w.jsxs)("div",{children:[i.prevPosition," ",Object(w.jsx)("i",{className:"fa fa-arrow-right"})," ",i.position]})]},t)}))]})]})," "]})]})})};var G=function(){var i=Object(c.f)(),t=Object(n.useContext)(M),e=t.optionsClicked,o=t.setOptionsClicked;return Object(w.jsx)("nav",{className:"navbar navbar-light bg-light",children:Object(w.jsxs)("span",{children:["/"!=i.location.pathname&&Object(w.jsx)("span",{onClick:function(){return i.goBack()},style:{width:"50px",cursor:"pointer"},className:"text-center d-inline-block",children:Object(w.jsx)("i",{className:"fa fa-arrow-left",children:" "})}),Object(w.jsxs)(r.b,{className:"navbar-brand",to:"/",children:[Object(w.jsx)("div",{style:{width:"50px"},className:"d-inline-block text-center",children:Object(w.jsx)("img",{src:"favicon.png",width:"25",height:"25",className:"align-top",alt:""})}),Object(w.jsx)("span",{className:" d-inline-block",children:"Games"})]}),Object(w.jsx)("form",{style:{float:"right"},children:Object(w.jsx)("span",{onClick:function(){return o(!e)},style:{width:"50px",cursor:"pointer"},className:"text-center d-inline-block form-inline",children:Object(w.jsx)("i",{className:"fa fa-cog",children:" "})})})]})})},_=(e(41),e(17)),F=e(11);function J(i,t){return{x:20*i,y:20*t}}function V(i,t){return{x:i/20,y:t/20}}var K,A=window.innerWidth,D=(window.innerHeight,{cb:null,emit:function(i){D.cb(null,i)}}),q=function(){function i(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;Object(l.a)(this,i),this.ctx=void 0,this.state={position:{x:0,y:0},grid:{x:0,y:0},dimensions:{width:20,height:120},color:"black",noOfLines:10},this.boundaries=[[[0,0],[0,0]],[[0,0],[0,0]]],this.draw={all:function(){}},this.getStyle=function(){return e.state},this.debug={cordinates:function(){e.getBoundaries().forEach((function(i){i.forEach((function(i){e.ctx.fillText("".concat(i[0],",").concat(i[1]),i[0],i[1])}))}))},highlight:function(){e.ctx.beginPath(),e.ctx.strokeStyle="red",e.ctx.strokeRect(e.state.position.x,e.state.position.y,e.state.dimensions.width,e.state.dimensions.height)},all:function(){e.debug.cordinates(),e.debug.highlight()}},this.ctx=t,s?(this.state.position=s,this.state.grid=V(s.x,s.y)):(this.state.position=J(n,o),this.state.grid={x:n,y:o}),a&&(this.state=Object(F.a)(Object(F.a)({},this.state),a)),this.calculateBoundaries()}return Object(h.a)(i,[{key:"getBoundaries",value:function(){return this.boundaries}},{key:"isWithinBoundary",value:function(i){return!1}},{key:"calculateBoundaries",value:function(){this.boundaries[0][0][0]=this.state.position.x,this.boundaries[0][0][1]=this.state.position.y,this.boundaries[0][1][0]=this.state.position.x+this.state.dimensions.width,this.boundaries[0][1][1]=this.state.position.y,this.boundaries[1][0][0]=this.state.position.x,this.boundaries[1][0][1]=this.state.position.y+this.state.dimensions.height,this.boundaries[1][1][0]=this.state.position.x+this.state.dimensions.width,this.boundaries[1][1][1]=this.state.position.y+this.state.dimensions.height}},{key:"updateGrid",value:function(i,t){this.state.position=J(i,t),this.state.grid.x=i,this.state.grid.y=t,this.calculateBoundaries()}}]),i}(),Q=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"V",c=arguments.length>5?arguments[5]:void 0;if(Object(l.a)(this,e),(n=t.call(this,i,o,s,a,c)).type=void 0,n.draw={rect:function(){n.ctx.beginPath(),n.ctx.strokeStyle=n.state.color,n.ctx.strokeRect(n.state.position.x,n.state.position.y,n.state.dimensions.width,n.state.dimensions.height),n.ctx.fill()},lines:function(){if("V"!==n.type&&"B"!==n.type){if("H"==n.type)for(var i=n.state.dimensions.width/n.state.noOfLines,t=0;t<n.state.noOfLines;t++){var e=n.state.dimensions.height/2+t*i,o=e+n.state.position.x,s=n.state.position.y+n.state.dimensions.height;n.state.dimensions.width,n.ctx.beginPath(),n.ctx.strokeStyle=n.state.color,n.ctx.moveTo(n.state.position.x+t*i,n.state.position.y),n.ctx.lineTo(o,s),n.ctx.stroke()}}else for(var a=n.state.dimensions.height/n.state.noOfLines,r=0;r<n.state.noOfLines;r++){var c=n.state.dimensions.width/2+r*a,d=c+n.state.position.y,l=n.state.position.x+n.state.dimensions.width;n.state.dimensions.height,n.ctx.beginPath(),n.ctx.strokeStyle=n.state.color,n.ctx.moveTo(n.state.position.x,n.state.position.y+r*a),n.ctx.lineTo(l,d),n.ctx.stroke()}},all:function(){n.draw.rect(),n.draw.lines()}},n.ctx=i,n.type=r,n.state.noOfLines=n.state.dimensions.height/10,"H"==r){var d=n.state.dimensions.width;n.state.dimensions.width=n.state.dimensions.height,n.state.dimensions.height=d,n.calculateBoundaries()}return n.draw.all(),n}return Object(h.a)(e,[{key:"updateGrid",value:function(i,t){this.updateGrid(i,t),this.draw.all()}}]),e}(q),Z=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return Object(l.a)(this,e),t.call(this,i,n,o,s,"H",a)}return e}(Q),$=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return Object(l.a)(this,e),t.call(this,i,n,o,s,"V",a)}return e}(Q),ii=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return Object(l.a)(this,e),(n=t.call(this,i,o,s,a,{dimensions:{height:10,width:10}})).movementHistory=[],n.action={goTo:function(i,t){var e=Object(F.a)({},n.state.grid),o={prevPosition:Object(F.a)({},n.state.position),reject:function(){n.updateGrid(e.x,e.y),n.draw.all()},accept:function(){n.movementHistory.push(Object(F.a)({},n.state.position)),n.draw.all()}};return n.updateGrid(i,t),o},down:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n.action.goTo(n.state.grid.x,n.state.grid.y+i)},up:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n.action.goTo(n.state.grid.x,n.state.grid.y-i)},right:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n.action.goTo(n.state.grid.x+i,n.state.grid.y)},left:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n.action.goTo(n.state.grid.x-i,n.state.grid.y)}},n.draw={history:function(){n.movementHistory.forEach((function(i,t){if(0!=t){var e=n.movementHistory[t-1];n.ctx.beginPath(),n.ctx.strokeStyle=n.state.color,n.ctx.strokeRect(e.x,e.y,i.x-e.x,i.y-e.y)}}))},arc:function(){n.ctx.beginPath(),n.ctx.arc(n.state.position.x,n.state.position.y,n.state.dimensions.width/2,0,2*Math.PI,!1),n.ctx.fillStyle=n.state.color,n.ctx.fill()},all:function(){n.draw.history(),n.draw.arc()}},n.movementHistory.push({x:n.state.position.x,y:n.state.position.y}),n.draw.all(),n}return e}(q),ti=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(l.a)(this,e),(n=t.call(this,i,o,s,a,r)).img=new Image,n.draw={image:function(){n.ctx.drawImage(n.img,n.state.position.x,n.state.position.y,n.state.dimensions.width,n.state.dimensions.height)},all:function(){n.draw.image()}},n.img.src=c,n.img.onload=function(){n.draw.all()},n}return e}(q),ei=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return Object(l.a)(this,e),t.call(this,i,n,o,s,{dimensions:{height:80,width:80},noOfLines:2},"/games/assets/flower.png")}return e}(ti),ni=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return Object(l.a)(this,e),t.call(this,i,n,o,s,{dimensions:{height:40,width:80},noOfLines:2},"/games/assets/hcar.png")}return e}(ti),oi=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"V",c=arguments.length>5?arguments[5]:void 0;if(Object(l.a)(this,e),(n=t.call(this,i,o,s,a,c)).type=void 0,n.draw={rect:function(){n.ctx.beginPath(),n.ctx.strokeStyle=n.state.color;var i=n.state.position.x+("V"==n.type?5:0),t=n.state.position.y+("H"==n.type?5:0);n.ctx.strokeRect(i,t,n.state.dimensions.width-("V"==n.type?10:0),n.state.dimensions.height-("H"==n.type?10:0)),n.ctx.fill()},all:function(){n.draw.rect()}},n.state.color="black",n.type=r,"H"==r){var d=n.state.dimensions.width;n.state.dimensions.width=n.state.dimensions.height,n.state.dimensions.height=d,n.calculateBoundaries()}return n.draw.all(),n}return Object(h.a)(e,[{key:"updateGrid",value:function(i,t){this.updateGrid(i,t),this.draw.all()}}]),e}(q),si=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return Object(l.a)(this,e),t.call(this,i,n,o,s,"H",{dimensions:{width:20,height:80}})}return e}(oi),ai=function(i){Object(p.a)(e,i);var t=Object(v.a)(e);function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return Object(l.a)(this,e),t.call(this,i,n,o,s,"V",{dimensions:{width:20,height:80}})}return e}(oi);!function(i){i[i.up=0]="up",i[i.down=1]="down",i[i.right=2]="right",i[i.left=3]="left"}(K||(K={}));var ri=function(){function i(t,e,n,o){var s=this;Object(l.a)(this,i),this.pos={x:7,y:10,frameX:0,frameY:0},this.scene=[],this.canvasContainer=void 0,this.canvas=void 0,this.ctx=void 0,this.player=null,this.generateGrid=null,this.stack={horizontal:[],vertical:[]},this.keyCb=null,this.validate={move:function(i,t){var e=i==K.up||i==K.down,n=!e,o=[1,2,3,4,5,6].map((function(n){return(e?t.prevPosition.y:t.prevPosition.x)+10*(i==K.up||i===K.left?-n:n)}));e&&console.log({increments:o});var a,r=s.player.getStyle().position,c=Object(_.a)(s.scene);try{for(c.s();!(a=c.n()).done;){var d,l=a.value,h=Object(_.a)(l);try{for(h.s();!(d=h.n()).done;){var u=d.value;if(!(!u||u instanceof ii||u instanceof ni)){var p,v=u.getBoundaries(),x=Object(_.a)(o);try{for(x.s();!(p=x.n()).done;){var b=p.value;if((n?b:r.x)>v[0][0][0]&&(n?b:r.x)<v[0][1][0]&&(e?b:r.y)>v[0][0][1]&&(e?b:r.y)<v[1][0][1])return u.debug.all(),console.log(u),!1}}catch(f){x.e(f)}finally{x.f()}}}}catch(f){h.e(f)}finally{h.f()}}}catch(f){c.e(f)}finally{c.f()}return!0}},this.canvasContainer=n,this.canvas=t,this.ctx=e,this.generateGrid=o,this.generateScenes(),this.keyCb=function(i,e){var o=!1;if(38==(i=i||window.event).keyCode||e===K.up){e=K.up,o=!0;var a=s.player.action.up(3);if(!s.validate.move(e,a))return a.reject();a.accept(),s.pos.frameY-=20;var r=0!=s.stack.vertical.length?s.stack.vertical[s.stack.vertical.length-1]:null;r&&s.player.getStyle().position.y<=r.pos&&(s.pos.frameY+=r.dist,s.canvasContainer.scrollTop=0,s.canvasContainer.scrollTop=r.scrollPos,s.stack.vertical.pop())}else if(40==i.keyCode||e===K.down){e=K.down,o=!0;var c=s.player.action.down(3);if(!s.validate.move(e,c))return c.reject();c.accept(),s.pos.frameY+=20}else if(37==i.keyCode||e===K.left){e=K.left,o=!0;var d=s.player.action.left(3);if(!s.validate.move(e,d))return d.reject();d.accept(),s.pos.frameX-=20;var l=0!=s.stack.horizontal.length?s.stack.horizontal[s.stack.horizontal.length-1]:null;l&&s.player.getStyle().position.x<=l.pos&&(s.pos.frameX+=l.dist,s.canvasContainer.scrollLeft=0,s.canvasContainer.scrollLeft=l.scrollPos,s.stack.horizontal.pop())}else if(39==i.keyCode||e===K.right){e=K.right,o=!0;var h=s.player.action.right(3);if(!s.validate.move(e,h))return h.reject();if(h.accept(),s.pos.frameX+=20,s.pos.frameX+50>=A/2){var u=n.clientWidth/2,p=s.canvasContainer.scrollLeft+u,v={pos:s.player.getStyle().position.x,scrollPos:s.canvasContainer.scrollLeft,dist:u};n.scrollWidth<p&&(p=n.scrollWidth),u=p-s.canvasContainer.scrollLeft,s.pos.frameX-=u,s.stack.horizontal.push(v),s.canvasContainer.scrollLeft=p}}o&&(s.ctx.clearRect(0,0,t.width,t.height),s.generateGrid(),s.generateScenes())},D.cb=this.keyCb,document.addEventListener("keydown",this.keyCb,!0)}return Object(h.a)(i,[{key:"destroy",value:function(){document.removeEventListener("keydown",this.keyCb,!0)}},{key:"generateScenes",value:function(){if(this.scene.length)this.scene.forEach((function(i){i.forEach((function(i){i&&i.draw.all()}))}));else{this.player=new ii(this.ctx,this.pos.x+-4,this.pos.y+-7);var i=new ni(this.ctx,this.pos.x+-6,this.pos.y+-8);this.pos.frameX=this.player.getStyle().position.x,this.pos.frameY=this.player.getStyle().position.y,this.scene=[[this.player],[i],[new Z(this.ctx,this.pos.x,this.pos.y+0,void 0,{dimensions:{height:140,width:20}}),new si(this.ctx,this.pos.x+7,this.pos.y+0),new Z(this.ctx,this.pos.x+11,this.pos.y+0,void 0,{dimensions:{height:500,width:20}})],[new $(this.ctx,this.pos.x,this.pos.y+1,void 0,{dimensions:{width:20,height:360}}),new $(this.ctx,this.pos.x+35,this.pos.y+1,void 0,{dimensions:{width:20,height:740}})],[new ai(this.ctx,this.pos.x,this.pos.y+19)],[new $(this.ctx,this.pos.x,this.pos.y+23,void 0,{dimensions:{height:300,width:20}})],[new Z(this.ctx,this.pos.x+0,this.pos.y+38,void 0,{dimensions:{height:720,width:20}})],[new ei(this.ctx,this.pos.x+6,this.pos.y+18),new ei(this.ctx,this.pos.x+12,this.pos.y+18)]]}}}]),i}();function ci(i,t){for(var e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=20,o=0,s=0,a=e?i.height:i.width;o<a;)t.beginPath(),e?(t.moveTo(0,o),t.lineTo(i.width,o)):(t.moveTo(o,0),t.lineTo(o,i.height)),0==o||3==s?(t.lineWidth=3,t.strokeStyle="#c2a667",s=0):(t.lineWidth=1,t.strokeStyle="#c1a46a"),t.stroke(),o+=n,s++}function di(i,t){t.globalCompositeOperation="destination-under",t.fillStyle="#e3ca8c",t.fillRect(0,0,i.width,i.height),ci(i,t,!0),ci(i,t,!1)}function li(){return Object(w.jsxs)("div",{style:{position:"absolute",bottom:0,width:"100vw",background:"white",zIndex:10},children:[Object(w.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(w.jsx)("div",{onClick:function(){return D.emit(K.up)},className:"button",children:Object(w.jsx)("i",{className:"fa fa-arrow-up"})}),Object(w.jsx)("div",{onClick:function(){return D.emit(K.down)},className:"button",children:Object(w.jsx)("i",{className:"fa fa-arrow-down"})})]}),Object(w.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(w.jsx)("div",{onClick:function(){return D.emit(K.left)},className:"button",children:Object(w.jsx)("i",{className:"fa fa-arrow-left"})}),Object(w.jsx)("div",{onClick:function(){return D.emit(K.right)},className:"button",children:Object(w.jsx)("i",{className:"fa fa-arrow-right"})})]})]})}var hi=function(){var i=Object(n.useRef)(null),t=Object(n.useRef)(null),e=Object(n.useContext)(M),o=e.optionsClicked;return e.setShowNav,Object(n.useEffect)((function(){!function(i,t){if(i&&t){var e=i.getContext("2d");e&&(i.width=1e3,i.height=1400,di(i,e),new ri(i,e,t,(function(){di(i,e)})))}}(i.current,t.current)}),[]),Object(w.jsxs)("div",{ref:t,className:"StolenIn60SecondsGame",children:[Object(w.jsx)("canvas",{ref:i}),o&&Object(w.jsx)(li,{})]})};var ui=function(){var i=Object(n.useContext)(M);return i.showNav,i.setShowNav,Object(w.jsxs)(r.a,{basename:"/games",children:[Object(w.jsx)(G,{}),Object(w.jsxs)(c.c,{children:[Object(w.jsx)(c.a,{path:"/chess",component:N}),Object(w.jsx)(c.a,{path:"/checkers",component:U}),Object(w.jsx)(c.a,{path:"/stolen-in-60-seconds",component:hi}),Object(w.jsx)(c.a,{path:"/",component:S})]})]})},pi=function(i){i&&i instanceof Function&&e.e(3).then(e.bind(null,43)).then((function(t){var e=t.getCLS,n=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;e(i),n(i),o(i),s(i),a(i)}))};a.a.render(Object(w.jsx)(o.a.StrictMode,{children:Object(w.jsx)(B,{children:Object(w.jsx)(ui,{})})}),document.getElementById("root")),pi()}},[[42,1,2]]]);
//# sourceMappingURL=main.6478dcb2.chunk.js.map